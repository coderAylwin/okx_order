
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-10-14 17:44:00</p>
            <p>回测期间: 2025-01-01 至 2025-10-13 (286 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+267.49%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+426.48%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-27.96%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">8.27</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">51.23%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">64.4%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.15</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">1990</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $367,493.26</p>
            <p><strong>净盈亏:</strong> $267,493.26</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 1990 次</p>
            <p><strong>盈利交易:</strong> 1282 次</p>
            <p><strong>亏损交易:</strong> 707 次</p>
            <p><strong>胜率:</strong> 64.4%</p>
            <p><strong>盈亏比:</strong> 1.15</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 15m</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.005</p>
                    <p><strong>递增值:</strong> 0.005</p>
                    <p><strong>最大值:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 0.8%</p>
                <p><strong>最大亏损:</strong> 0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$367,817.53</td>
                <td>$73.68</td>
                <td>$367,891.20</td>
                <td>+0.34%</td>
                <td>+267.89%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$367,555.18</td>
                <td>$73.39</td>
                <td>$367,628.57</td>
                <td>-0.07%</td>
                <td>+267.63%</td>
                <td>-0.07%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>short</td>
                <td>$369,518.49</td>
                <td>$73.56</td>
                <td>$369,592.05</td>
                <td>+0.53%</td>
                <td>+269.59%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$352,602.62</td>
                <td>$70.54</td>
                <td>$352,673.16</td>
                <td>-4.58%</td>
                <td>+252.67%</td>
                <td>-4.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$349,096.58</td>
                <td>$69.79</td>
                <td>$349,166.37</td>
                <td>-0.99%</td>
                <td>+249.17%</td>
                <td>-5.53%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$350,669.39</td>
                <td>$350,669.39</td>
                <td>+0.43%</td>
                <td>+250.67%</td>
                <td>-5.12%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$353,567.36</td>
                <td>$70.34</td>
                <td>$353,637.70</td>
                <td>+0.85%</td>
                <td>+253.64%</td>
                <td>-4.32%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$356,454.37</td>
                <td>$71.26</td>
                <td>$356,525.63</td>
                <td>+0.82%</td>
                <td>+256.53%</td>
                <td>-3.54%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$367,429.76</td>
                <td>$74.03</td>
                <td>$367,503.79</td>
                <td>+3.08%</td>
                <td>+267.50%</td>
                <td>-0.57%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$351,613.98</td>
                <td>$70.74</td>
                <td>$351,684.72</td>
                <td>-4.30%</td>
                <td>+251.68%</td>
                <td>-4.85%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$350,189.92</td>
                <td>$70.52</td>
                <td>$350,260.44</td>
                <td>-0.40%</td>
                <td>+250.26%</td>
                <td>-5.23%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$363,229.00</td>
                <td>$72.07</td>
                <td>$363,301.07</td>
                <td>+3.72%</td>
                <td>+263.30%</td>
                <td>-1.70%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$364,224.26</td>
                <td>$72.76</td>
                <td>$364,297.03</td>
                <td>+0.27%</td>
                <td>+264.30%</td>
                <td>-1.43%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>long</td>
                <td>$375,430.04</td>
                <td>$75.22</td>
                <td>$375,505.26</td>
                <td>+3.08%</td>
                <td>+275.51%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$4,019.18</td>
                <td>long</td>
                <td>$370,053.54</td>
                <td>$74.03</td>
                <td>$370,127.57</td>
                <td>-1.43%</td>
                <td>+270.13%</td>
                <td>-1.43%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$4,163.28</td>
                <td>long</td>
                <td>$367,269.99</td>
                <td>$73.58</td>
                <td>$367,343.57</td>
                <td>-0.75%</td>
                <td>+267.34%</td>
                <td>-2.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$4,117.88</td>
                <td>short</td>
                <td>$372,512.90</td>
                <td>$74.49</td>
                <td>$372,587.38</td>
                <td>+1.43%</td>
                <td>+272.59%</td>
                <td>-0.78%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$4,324.55</td>
                <td>long</td>
                <td>$367,237.33</td>
                <td>$73.41</td>
                <td>$367,310.74</td>
                <td>-1.42%</td>
                <td>+267.31%</td>
                <td>-2.18%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$4,435.38</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$368,291.06</td>
                <td>$368,291.06</td>
                <td>+0.27%</td>
                <td>+268.29%</td>
                <td>-1.92%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$4,533.18</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$371,964.28</td>
                <td>$371,964.28</td>
                <td>+1.00%</td>
                <td>+271.96%</td>
                <td>-0.94%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$4,453.67</td>
                <td>short</td>
                <td>$370,601.91</td>
                <td>$74.41</td>
                <td>$370,676.32</td>
                <td>-0.35%</td>
                <td>+270.68%</td>
                <td>-1.29%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$4,531.01</td>
                <td>short</td>
                <td>$374,627.53</td>
                <td>$75.27</td>
                <td>$374,702.80</td>
                <td>+1.09%</td>
                <td>+274.70%</td>
                <td>-0.21%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$4,671.15</td>
                <td>long</td>
                <td>$390,980.86</td>
                <td>$78.17</td>
                <td>$391,059.03</td>
                <td>+4.37%</td>
                <td>+291.06%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$4,510.48</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$390,931.72</td>
                <td>$390,931.72</td>
                <td>-0.03%</td>
                <td>+290.93%</td>
                <td>-0.03%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$4,445.05</td>
                <td>short</td>
                <td>$374,714.60</td>
                <td>$75.19</td>
                <td>$374,789.79</td>
                <td>-4.13%</td>
                <td>+274.79%</td>
                <td>-4.16%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$4,312.36</td>
                <td>short</td>
                <td>$359,210.96</td>
                <td>$71.89</td>
                <td>$359,282.85</td>
                <td>-4.14%</td>
                <td>+259.28%</td>
                <td>-8.13%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$4,101.01</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$355,593.63</td>
                <td>$355,593.63</td>
                <td>-1.03%</td>
                <td>+255.59%</td>
                <td>-9.07%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$3,822.61</td>
                <td>long</td>
                <td>$350,705.35</td>
                <td>$71.46</td>
                <td>$350,776.81</td>
                <td>-1.35%</td>
                <td>+250.78%</td>
                <td>-10.30%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$4,031.83</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$360,157.90</td>
                <td>$360,157.90</td>
                <td>+2.67%</td>
                <td>+260.16%</td>
                <td>-7.90%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$4,147.25</td>
                <td>short</td>
                <td>$367,420.22</td>
                <td>$73.04</td>
                <td>$367,493.26</td>
                <td>+2.04%</td>
                <td>+267.49%</td>
                <td>-6.03%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共286天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [100153.4, 101730.27, 101738.56, 99443.54, 100714.51, 100236.67, 100272.59, 102237.9, 104201.04, 102394.98, 98728.3, 97497.43, 98031.81, 102412.07, 100757.76, 103632.69, 101295.45, 103867.64, 97841.41, 91918.42, 96589.85, 89066.26, 93204.46, 91060.54, 94120.43, 94313.85, 95530.49, 92234.26, 95691.82, 97872.61, 95422.42, 97265.1, 98161.06, 108726.08, 109955.21, 112757.4, 117927.27, 117365.89, 114571.55, 112728.4, 113614.82, 111647.56, 118589.18, 118230.65, 120396.74, 122194.75, 122038.88, 129970.49, 123115.73, 127023.11, 127456.5, 123924.52, 127849.41, 123915.4, 126149.12, 125407.93, 131311.99, 131812.18, 146695.45, 146518.05, 141319.26, 144555.59, 153055.51, 149281.37, 155695.33, 156293.3, 161030.35, 169309.53, 186499.38, 197247.86, 179437.88, 170787.34, 175374.87, 173950.67, 176239.08, 171760.4, 174196.76, 176068.68, 174139.2, 175802.07, 174819.0, 174179.2, 172653.22, 169244.62, 164839.33, 165151.2, 167325.06, 164873.95, 163603.82, 160748.91, 155618.3, 155535.37, 156908.8, 142105.49, 143915.33, 148197.7, 167715.09, 168775.78, 183018.62, 188703.63, 194856.38, 183238.44, 183160.27, 172225.49, 170531.28, 179323.34, 178713.66, 172566.2, 169614.12, 171174.91, 173173.09, 183091.03, 190011.06, 190068.48, 189914.95, 184283.0, 179543.05, 178977.77, 181026.88, 179578.37, 184007.85, 187806.68, 188749.25, 181155.16, 176615.14, 179923.39, 185246.78, 202319.92, 223019.33, 220295.42, 241200.97, 240391.26, 235730.99, 244941.56, 246338.77, 228019.08, 233125.13, 238751.38, 231093.56, 218838.34, 224380.16, 221327.13, 217551.92, 205676.82, 204741.4, 213513.79, 217075.91, 222622.12, 219836.84, 210988.23, 216712.54, 217427.57, 208245.63, 204581.44, 200961.19, 195657.97, 212063.5, 212883.69, 215837.06, 217938.47, 213578.8, 222316.59, 217098.55, 211852.26, 206364.96, 210344.79, 205880.88, 211667.91, 210836.23, 206082.24, 200989.27, 204422.62, 218939.42, 218080.73, 213023.64, 214822.82, 218717.23, 211986.1, 208881.02, 206558.74, 206174.91, 214300.3, 215619.2, 212973.53, 217932.47, 216460.5, 215659.34, 216541.98, 219912.03, 220040.17, 223697.43, 220941.04, 220051.83, 221907.0, 225682.64, 224978.4, 227048.32, 223201.72, 225452.98, 226339.86, 233996.91, 238658.49, 242638.96, 239452.35, 234522.22, 238867.64, 237284.3, 238158.92, 247036.28, 246984.11, 253808.45, 252068.0, 263039.16, 265074.28, 279530.29, 280371.04, 283653.51, 285031.19, 287902.19, 282149.4, 286645.16, 298408.54, 292876.19, 287970.28, 299786.98, 293890.87, 308680.85, 302313.47, 307687.27, 305234.77, 312215.55, 331736.23, 339703.55, 342323.08, 347772.68, 337225.04, 342722.28, 353110.75, 347717.49, 352882.1, 345727.75, 338355.42, 336342.28, 336052.71, 342035.58, 344951.42, 349161.57, 349115.23, 342305.51, 346624.55, 349218.58, 342718.27, 346314.9, 354321.58, 346913.99, 366631.18, 367891.2, 367628.57, 369592.05, 352673.16, 349166.37, 350669.39, 353637.7, 356525.63, 367503.79, 351684.72, 350260.44, 363301.07, 364297.03, 375505.26, 370127.57, 367343.57, 372587.38, 367310.74, 368291.06, 371964.28, 370676.32, 374702.8, 391059.03, 390931.72, 374789.79, 359282.85, 355593.63, 350776.81, 360157.9, 367493.26], "cumulative_returns": [0.15, 1.73, 1.74, -0.56, 0.71, 0.24, 0.27, 2.24, 4.2, 2.39, -1.27, -2.5, -1.97, 2.41, 0.76, 3.63, 1.3, 3.87, -2.16, -8.08, -3.41, -10.93, -6.8, -8.94, -5.88, -5.69, -4.47, -7.77, -4.31, -2.13, -4.58, -2.73, -1.84, 8.73, 9.96, 12.76, 17.93, 17.37, 14.57, 12.73, 13.61, 11.65, 18.59, 18.23, 20.4, 22.19, 22.04, 29.97, 23.12, 27.02, 27.46, 23.92, 27.85, 23.92, 26.15, 25.41, 31.31, 31.81, 46.7, 46.52, 41.32, 44.56, 53.06, 49.28, 55.7, 56.29, 61.03, 69.31, 86.5, 97.25, 79.44, 70.79, 75.37, 73.95, 76.24, 71.76, 74.2, 76.07, 74.14, 75.8, 74.82, 74.18, 72.65, 69.24, 64.84, 65.15, 67.33, 64.87, 63.6, 60.75, 55.62, 55.54, 56.91, 42.11, 43.92, 48.2, 67.72, 68.78, 83.02, 88.7, 94.86, 83.24, 83.16, 72.23, 70.53, 79.32, 78.71, 72.57, 69.61, 71.17, 73.17, 83.09, 90.01, 90.07, 89.91, 84.28, 79.54, 78.98, 81.03, 79.58, 84.01, 87.81, 88.75, 81.16, 76.62, 79.92, 85.25, 102.32, 123.02, 120.3, 141.2, 140.39, 135.73, 144.94, 146.34, 128.02, 133.13, 138.75, 131.09, 118.84, 124.38, 121.33, 117.55, 105.68, 104.74, 113.51, 117.08, 122.62, 119.84, 110.99, 116.71, 117.43, 108.25, 104.58, 100.96, 95.66, 112.06, 112.88, 115.84, 117.94, 113.58, 122.32, 117.1, 111.85, 106.36, 110.34, 105.88, 111.67, 110.84, 106.08, 100.99, 104.42, 118.94, 118.08, 113.02, 114.82, 118.72, 111.99, 108.88, 106.56, 106.17, 114.3, 115.62, 112.97, 117.93, 116.46, 115.66, 116.54, 119.91, 120.04, 123.7, 120.94, 120.05, 121.91, 125.68, 124.98, 127.05, 123.2, 125.45, 126.34, 134.0, 138.66, 142.64, 139.45, 134.52, 138.87, 137.28, 138.16, 147.04, 146.98, 153.81, 152.07, 163.04, 165.07, 179.53, 180.37, 183.65, 185.03, 187.9, 182.15, 186.65, 198.41, 192.88, 187.97, 199.79, 193.89, 208.68, 202.31, 207.69, 205.23, 212.22, 231.74, 239.7, 242.32, 247.77, 237.23, 242.72, 253.11, 247.72, 252.88, 245.73, 238.36, 236.34, 236.05, 242.04, 244.95, 249.16, 249.12, 242.31, 246.62, 249.22, 242.72, 246.31, 254.32, 246.91, 266.63, 267.89, 267.63, 269.59, 252.67, 249.17, 250.67, 253.64, 256.53, 267.5, 251.68, 250.26, 263.3, 264.3, 275.51, 270.13, 267.34, 272.59, 267.31, 268.29, 271.96, 270.68, 274.7, 291.06, 290.93, 274.79, 259.28, 255.59, 250.78, 260.16, 267.49], "drawdowns": [0.0, 0.0, 0.0, -2.26, -1.01, -1.48, -1.44, 0.0, 0.0, -1.73, -5.25, -6.43, -5.92, -1.72, -3.3, -0.55, -2.79, -0.32, -6.1, -11.79, -7.3, -14.52, -10.55, -12.61, -9.67, -9.49, -8.32, -11.48, -8.17, -6.07, -8.42, -6.66, -5.8, 0.0, 0.0, 0.0, 0.0, -0.48, -2.85, -4.41, -3.66, -5.33, 0.0, -0.3, 0.0, 0.0, -0.13, 0.0, -5.27, -2.27, -1.93, -4.65, -1.63, -4.66, -2.94, -3.51, 0.0, 0.0, 0.0, -0.12, -3.66, -1.46, 0.0, -2.47, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -9.03, -13.41, -11.09, -11.81, -10.65, -12.92, -11.69, -10.74, -11.72, -10.87, -11.37, -11.7, -12.47, -14.2, -16.43, -16.27, -15.17, -16.41, -17.06, -18.5, -21.11, -21.15, -20.45, -27.96, -27.04, -24.87, -14.97, -14.43, -7.21, -4.33, -1.21, -7.1, -7.14, -12.69, -13.54, -9.09, -9.4, -12.51, -14.01, -13.22, -12.21, -7.18, -3.67, -3.64, -3.72, -6.57, -8.98, -9.26, -8.22, -8.96, -6.71, -4.79, -4.31, -8.16, -10.46, -8.78, -6.08, 0.0, 0.0, -1.22, 0.0, -0.34, -2.27, 0.0, 0.0, -7.44, -5.36, -3.08, -6.19, -11.16, -8.91, -10.15, -11.69, -16.51, -16.89, -13.33, -11.88, -9.63, -10.76, -14.35, -12.03, -11.74, -15.46, -16.95, -18.42, -20.57, -13.91, -13.58, -12.38, -11.53, -13.3, -9.75, -11.87, -14.0, -16.23, -14.61, -16.42, -14.07, -14.41, -16.34, -18.41, -17.02, -11.12, -11.47, -13.52, -12.79, -11.21, -13.95, -15.21, -16.15, -16.3, -13.01, -12.47, -13.54, -11.53, -12.13, -12.45, -12.1, -10.73, -10.68, -9.19, -10.31, -10.67, -9.92, -8.39, -8.67, -7.83, -9.39, -8.48, -8.12, -5.01, -3.12, -1.5, -2.8, -4.8, -3.03, -3.68, -3.32, 0.0, -0.02, 0.0, -0.69, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.0, -0.44, 0.0, -1.85, -3.5, 0.0, -1.97, 0.0, -2.06, -0.32, -1.12, 0.0, 0.0, 0.0, 0.0, 0.0, -3.03, -1.45, 0.0, -1.53, -0.06, -2.09, -4.18, -4.75, -4.83, -3.14, -2.31, -1.12, -1.13, -3.06, -1.84, -1.1, -2.94, -1.92, 0.0, -2.09, 0.0, 0.0, -0.07, 0.0, -4.58, -5.53, -5.12, -4.32, -3.54, -0.57, -4.85, -5.23, -1.7, -1.43, 0.0, -1.43, -2.17, -0.78, -2.18, -1.92, -0.94, -1.29, -0.21, 0.0, -0.03, -4.16, -8.13, -9.07, -10.3, -7.9, -6.03], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-04", "value": -27.96}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        