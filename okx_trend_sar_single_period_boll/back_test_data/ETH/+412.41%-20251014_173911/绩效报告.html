
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-10-14 17:39:18</p>
            <p>回测期间: 2025-01-01 至 2025-10-13 (286 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+259.78%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+412.41%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-28.38%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">7.72</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">53.04%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">65.0%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.13</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">2069</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $359,775.77</p>
            <p><strong>净盈亏:</strong> $259,775.77</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 2069 次</p>
            <p><strong>盈利交易:</strong> 1345 次</p>
            <p><strong>亏损交易:</strong> 723 次</p>
            <p><strong>胜率:</strong> 65.0%</p>
            <p><strong>盈亏比:</strong> 1.13</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 15m</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.005</p>
                    <p><strong>递增值:</strong> 0.005</p>
                    <p><strong>最大值:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 0.8%</p>
                <p><strong>最大亏损:</strong> 4%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$375,605.40</td>
                <td>$75.24</td>
                <td>$375,680.64</td>
                <td>+0.73%</td>
                <td>+275.68%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$375,337.38</td>
                <td>$74.94</td>
                <td>$375,412.32</td>
                <td>-0.07%</td>
                <td>+275.41%</td>
                <td>-0.07%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>short</td>
                <td>$377,342.51</td>
                <td>$75.12</td>
                <td>$377,417.63</td>
                <td>+0.53%</td>
                <td>+277.42%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$360,068.47</td>
                <td>$72.03</td>
                <td>$360,140.51</td>
                <td>-4.58%</td>
                <td>+260.14%</td>
                <td>-4.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$356,488.24</td>
                <td>$71.26</td>
                <td>$356,559.50</td>
                <td>-0.99%</td>
                <td>+256.56%</td>
                <td>-5.53%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$358,094.37</td>
                <td>$358,094.37</td>
                <td>+0.43%</td>
                <td>+258.09%</td>
                <td>-5.12%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$360,849.51</td>
                <td>$71.78</td>
                <td>$360,921.30</td>
                <td>+0.79%</td>
                <td>+260.92%</td>
                <td>-4.37%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$361,487.89</td>
                <td>$72.27</td>
                <td>$361,560.16</td>
                <td>+0.18%</td>
                <td>+261.56%</td>
                <td>-4.20%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$369,276.87</td>
                <td>$74.48</td>
                <td>$369,351.36</td>
                <td>+2.15%</td>
                <td>+269.35%</td>
                <td>-2.14%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$354,067.92</td>
                <td>$71.20</td>
                <td>$354,139.12</td>
                <td>-4.12%</td>
                <td>+254.14%</td>
                <td>-6.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$352,634.32</td>
                <td>$71.01</td>
                <td>$352,705.33</td>
                <td>-0.40%</td>
                <td>+252.71%</td>
                <td>-6.55%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$362,861.75</td>
                <td>$72.00</td>
                <td>$362,933.75</td>
                <td>+2.90%</td>
                <td>+262.93%</td>
                <td>-3.84%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$363,855.91</td>
                <td>$72.69</td>
                <td>$363,928.60</td>
                <td>+0.27%</td>
                <td>+263.93%</td>
                <td>-3.57%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>long</td>
                <td>$374,118.68</td>
                <td>$74.96</td>
                <td>$374,193.64</td>
                <td>+2.82%</td>
                <td>+274.19%</td>
                <td>-0.85%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$4,019.18</td>
                <td>long</td>
                <td>$368,760.97</td>
                <td>$73.77</td>
                <td>$368,834.74</td>
                <td>-1.43%</td>
                <td>+268.83%</td>
                <td>-2.27%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$4,163.28</td>
                <td>long</td>
                <td>$366,722.10</td>
                <td>$73.77</td>
                <td>$366,795.87</td>
                <td>-0.55%</td>
                <td>+266.80%</td>
                <td>-2.81%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$4,117.88</td>
                <td>short</td>
                <td>$372,849.74</td>
                <td>$74.56</td>
                <td>$372,924.29</td>
                <td>+1.67%</td>
                <td>+272.92%</td>
                <td>-1.19%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$4,324.55</td>
                <td>long</td>
                <td>$367,569.02</td>
                <td>$73.48</td>
                <td>$367,642.50</td>
                <td>-1.42%</td>
                <td>+267.64%</td>
                <td>-2.59%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$4,435.38</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$368,624.08</td>
                <td>$368,624.08</td>
                <td>+0.27%</td>
                <td>+268.62%</td>
                <td>-2.33%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$4,533.18</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$370,165.31</td>
                <td>$370,165.31</td>
                <td>+0.42%</td>
                <td>+270.17%</td>
                <td>-1.92%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$4,453.67</td>
                <td>short</td>
                <td>$362,720.25</td>
                <td>$72.83</td>
                <td>$362,793.08</td>
                <td>-1.99%</td>
                <td>+262.79%</td>
                <td>-3.87%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$4,531.01</td>
                <td>short</td>
                <td>$362,878.62</td>
                <td>$72.91</td>
                <td>$362,951.53</td>
                <td>+0.04%</td>
                <td>+262.95%</td>
                <td>-3.83%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$4,671.15</td>
                <td>long</td>
                <td>$380,752.91</td>
                <td>$76.13</td>
                <td>$380,829.04</td>
                <td>+4.93%</td>
                <td>+280.83%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$4,510.48</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$383,750.27</td>
                <td>$383,750.27</td>
                <td>+0.77%</td>
                <td>+283.75%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$4,445.05</td>
                <td>short</td>
                <td>$370,773.18</td>
                <td>$74.40</td>
                <td>$370,847.57</td>
                <td>-3.36%</td>
                <td>+270.85%</td>
                <td>-3.36%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$4,312.36</td>
                <td>short</td>
                <td>$355,175.46</td>
                <td>$71.08</td>
                <td>$355,246.54</td>
                <td>-4.21%</td>
                <td>+255.25%</td>
                <td>-7.43%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$4,101.01</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$351,599.09</td>
                <td>$351,599.09</td>
                <td>-1.03%</td>
                <td>+251.60%</td>
                <td>-8.38%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$3,822.61</td>
                <td>long</td>
                <td>$344,237.88</td>
                <td>$69.47</td>
                <td>$344,307.35</td>
                <td>-2.07%</td>
                <td>+244.31%</td>
                <td>-10.28%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$4,031.83</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$349,796.27</td>
                <td>$349,796.27</td>
                <td>+1.59%</td>
                <td>+249.80%</td>
                <td>-8.85%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$4,147.25</td>
                <td>short</td>
                <td>$359,704.26</td>
                <td>$71.51</td>
                <td>$359,775.77</td>
                <td>+2.85%</td>
                <td>+259.78%</td>
                <td>-6.25%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共286天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [100153.4, 101730.27, 102552.31, 101476.7, 102773.57, 102286.22, 102322.62, 103219.31, 104508.86, 102134.2, 98476.99, 96785.09, 98093.71, 102477.03, 100946.71, 101632.42, 98335.77, 98937.18, 92457.49, 85432.56, 89774.2, 82781.62, 86627.83, 86596.7, 89506.54, 89506.78, 91252.23, 87680.39, 91694.9, 93784.88, 92168.2, 93108.62, 94718.0, 104356.48, 108088.89, 109351.19, 114364.66, 113820.24, 112101.4, 110297.78, 111165.09, 109217.19, 116007.64, 115657.06, 117775.86, 119534.71, 119382.11, 127141.21, 120130.09, 123526.98, 123948.38, 120513.6, 124330.46, 120926.72, 123106.51, 121412.12, 127225.92, 127710.49, 144844.62, 145661.11, 138914.27, 145532.45, 153730.85, 153559.37, 161161.11, 161779.95, 167966.61, 176654.99, 192307.79, 205805.43, 188250.06, 176253.27, 180987.64, 179517.82, 182653.58, 176250.4, 178423.94, 182588.35, 180587.44, 182311.78, 180903.05, 179238.25, 177699.54, 175498.22, 170930.26, 171253.67, 173507.71, 170966.09, 169649.1, 166083.91, 160549.14, 160463.58, 161880.4, 147396.26, 149273.56, 153715.39, 171209.58, 173508.66, 183698.62, 193985.96, 200975.69, 188992.91, 191037.72, 178448.55, 176693.12, 185802.87, 185171.3, 178801.54, 175742.82, 179263.88, 180374.34, 189191.61, 196342.2, 196401.46, 196243.03, 190423.31, 185525.31, 185074.39, 186328.8, 186316.34, 190911.95, 194853.47, 195831.2, 187952.32, 183679.5, 184436.39, 189893.09, 210725.43, 236015.48, 231210.89, 255177.24, 254320.61, 248740.57, 260492.06, 261978.13, 242495.26, 247925.58, 253908.93, 226496.6, 232066.8, 235363.96, 231031.59, 227056.11, 214763.22, 213725.17, 222811.75, 226529.0, 228120.99, 226403.4, 217290.64, 223657.33, 224395.34, 214454.38, 211800.83, 208053.1, 202562.64, 219547.1, 220094.58, 222389.29, 224026.78, 218574.69, 227516.99, 222176.98, 217663.08, 212025.38, 216114.34, 215514.54, 219814.26, 220829.25, 215850.0, 210515.52, 215824.3, 234863.15, 233942.01, 230720.6, 232669.31, 236154.79, 230453.02, 227077.21, 224552.72, 225928.09, 234831.95, 236277.23, 232981.24, 240312.74, 237093.59, 236822.53, 237183.02, 240874.2, 241345.76, 245357.19, 240411.11, 239443.65, 241462.2, 245570.55, 242206.19, 244194.54, 246116.45, 243877.75, 244837.62, 255144.66, 260227.54, 264255.16, 261093.09, 255717.72, 263834.05, 258763.65, 259717.58, 269069.91, 269360.93, 274825.36, 273218.09, 282173.59, 286631.17, 299864.35, 301518.64, 306040.66, 310561.1, 310640.31, 302017.9, 308776.36, 319502.6, 315935.58, 310393.63, 316829.8, 310598.78, 328838.61, 318949.98, 324086.02, 321382.22, 326494.87, 342936.52, 347492.83, 345204.4, 349074.7, 341195.34, 349954.84, 360562.32, 355055.2, 357469.64, 349083.91, 341639.81, 339000.23, 339024.02, 343411.84, 345910.69, 351108.44, 351062.19, 344214.23, 348557.4, 351165.8, 344629.55, 346733.19, 354749.52, 350111.04, 372969.5, 375680.64, 375412.32, 377417.63, 360140.51, 356559.5, 358094.37, 360921.3, 361560.16, 369351.36, 354139.12, 352705.33, 362933.75, 363928.6, 374193.64, 368834.74, 366795.87, 372924.29, 367642.5, 368624.08, 370165.31, 362793.08, 362951.53, 380829.04, 383750.27, 370847.57, 355246.54, 351599.09, 344307.35, 349796.27, 359775.77], "cumulative_returns": [0.15, 1.73, 2.55, 1.48, 2.77, 2.29, 2.32, 3.22, 4.51, 2.13, -1.52, -3.21, -1.91, 2.48, 0.95, 1.63, -1.66, -1.06, -7.54, -14.57, -10.23, -17.22, -13.37, -13.4, -10.49, -10.49, -8.75, -12.32, -8.31, -6.22, -7.83, -6.89, -5.28, 4.36, 8.09, 9.35, 14.36, 13.82, 12.1, 10.3, 11.17, 9.22, 16.01, 15.66, 17.78, 19.53, 19.38, 27.14, 20.13, 23.53, 23.95, 20.51, 24.33, 20.93, 23.11, 21.41, 27.23, 27.71, 44.84, 45.66, 38.91, 45.53, 53.73, 53.56, 61.16, 61.78, 67.97, 76.65, 92.31, 105.81, 88.25, 76.25, 80.99, 79.52, 82.65, 76.25, 78.42, 82.59, 80.59, 82.31, 80.9, 79.24, 77.7, 75.5, 70.93, 71.25, 73.51, 70.97, 69.65, 66.08, 60.55, 60.46, 61.88, 47.4, 49.27, 53.72, 71.21, 73.51, 83.7, 93.99, 100.98, 88.99, 91.04, 78.45, 76.69, 85.8, 85.17, 78.8, 75.74, 79.26, 80.37, 89.19, 96.34, 96.4, 96.24, 90.42, 85.53, 85.07, 86.33, 86.32, 90.91, 94.85, 95.83, 87.95, 83.68, 84.44, 89.89, 110.73, 136.02, 131.21, 155.18, 154.32, 148.74, 160.49, 161.98, 142.5, 147.93, 153.91, 126.5, 132.07, 135.36, 131.03, 127.06, 114.76, 113.73, 122.81, 126.53, 128.12, 126.4, 117.29, 123.66, 124.4, 114.45, 111.8, 108.05, 102.56, 119.55, 120.09, 122.39, 124.03, 118.57, 127.52, 122.18, 117.66, 112.03, 116.11, 115.51, 119.81, 120.83, 115.85, 110.52, 115.82, 134.86, 133.94, 130.72, 132.67, 136.15, 130.45, 127.08, 124.55, 125.93, 134.83, 136.28, 132.98, 140.31, 137.09, 136.82, 137.18, 140.87, 141.35, 145.36, 140.41, 139.44, 141.46, 145.57, 142.21, 144.19, 146.12, 143.88, 144.84, 155.14, 160.23, 164.26, 161.09, 155.72, 163.83, 158.76, 159.72, 169.07, 169.36, 174.83, 173.22, 182.17, 186.63, 199.86, 201.52, 206.04, 210.56, 210.64, 202.02, 208.78, 219.5, 215.94, 210.39, 216.83, 210.6, 228.84, 218.95, 224.09, 221.38, 226.49, 242.94, 247.49, 245.2, 249.07, 241.2, 249.95, 260.56, 255.06, 257.47, 249.08, 241.64, 239.0, 239.02, 243.41, 245.91, 251.11, 251.06, 244.21, 248.56, 251.17, 244.63, 246.73, 254.75, 250.11, 272.97, 275.68, 275.41, 277.42, 260.14, 256.56, 258.09, 260.92, 261.56, 269.35, 254.14, 252.71, 262.93, 263.93, 274.19, 268.83, 266.8, 272.92, 267.64, 268.62, 270.17, 262.79, 262.95, 280.83, 283.75, 270.85, 255.25, 251.6, 244.31, 249.8, 259.78], "drawdowns": [0.0, 0.0, 0.0, -1.05, 0.0, -0.47, -0.44, 0.0, 0.0, -2.27, -5.77, -7.39, -6.14, -1.94, -3.41, -2.75, -5.91, -5.33, -11.53, -18.25, -14.1, -20.79, -17.11, -17.14, -14.36, -14.35, -12.68, -16.1, -12.26, -10.26, -11.81, -10.91, -9.37, -0.15, 0.0, 0.0, 0.0, -0.48, -1.98, -3.56, -2.8, -4.5, 0.0, -0.3, 0.0, 0.0, -0.13, 0.0, -5.51, -2.84, -2.51, -5.21, -2.21, -4.89, -3.17, -4.51, 0.0, 0.0, 0.0, 0.0, -4.63, -0.09, 0.0, -0.11, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -8.53, -14.36, -12.06, -12.77, -11.25, -14.36, -13.3, -11.28, -12.25, -11.42, -12.1, -12.91, -13.66, -14.73, -16.95, -16.79, -15.69, -16.93, -17.57, -19.3, -21.99, -22.03, -21.34, -28.38, -27.47, -25.31, -16.81, -15.69, -10.74, -5.74, -2.35, -8.17, -7.18, -13.29, -14.15, -9.72, -10.03, -13.12, -14.61, -12.9, -12.36, -8.07, -4.6, -4.57, -4.65, -7.47, -9.85, -10.07, -9.46, -9.47, -7.24, -5.32, -4.85, -8.67, -10.75, -10.38, -7.73, 0.0, 0.0, -2.04, 0.0, -0.34, -2.52, 0.0, 0.0, -7.44, -5.36, -3.08, -13.54, -11.42, -10.16, -11.81, -13.33, -18.02, -18.42, -14.95, -13.53, -12.92, -13.58, -17.06, -14.63, -14.35, -18.14, -19.15, -20.58, -22.68, -16.2, -15.99, -15.11, -14.49, -16.57, -13.15, -15.19, -16.92, -19.07, -17.51, -17.74, -16.09, -15.71, -17.61, -19.64, -17.62, -10.35, -10.7, -11.93, -11.19, -9.86, -12.03, -13.32, -14.29, -13.76, -10.36, -9.81, -11.07, -8.27, -9.5, -9.6, -9.46, -8.06, -7.88, -6.34, -8.23, -8.6, -7.83, -6.26, -7.55, -6.79, -6.05, -6.91, -6.54, -2.61, -0.67, 0.0, -1.2, -3.23, -0.16, -2.08, -1.72, 0.0, 0.0, 0.0, -0.58, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.78, -0.6, 0.0, -1.12, -2.85, -0.84, -2.79, 0.0, -3.01, -1.45, -2.27, -0.71, 0.0, 0.0, -0.66, 0.0, -2.26, 0.0, 0.0, -1.53, -0.86, -3.18, -5.25, -5.98, -5.97, -4.76, -4.06, -2.62, -2.63, -4.53, -3.33, -2.61, -4.42, -3.84, -1.61, -2.9, 0.0, 0.0, -0.07, 0.0, -4.58, -5.53, -5.12, -4.37, -4.2, -2.14, -6.17, -6.55, -3.84, -3.57, -0.85, -2.27, -2.81, -1.19, -2.59, -2.33, -1.92, -3.87, -3.83, 0.0, 0.0, -3.36, -7.43, -8.38, -10.28, -8.85, -6.25], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-04", "value": -28.38}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        