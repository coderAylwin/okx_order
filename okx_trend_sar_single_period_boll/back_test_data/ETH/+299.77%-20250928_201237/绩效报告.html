
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-09-28 20:12:42</p>
            <p>回测期间: 2025-01-01 至 2025-09-27 (270 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+178.73%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+299.77%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-21.09%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">6.32</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">46.95%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">51.7%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.21</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">849</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $278,726.62</p>
            <p><strong>净盈亏:</strong> $178,726.62</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 849 次</p>
            <p><strong>盈利交易:</strong> 439 次</p>
            <p><strong>亏损交易:</strong> 410 次</p>
            <p><strong>胜率:</strong> 51.7%</p>
            <p><strong>盈亏比:</strong> 1.21</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 1h</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.02</p>
                    <p><strong>递增值:</strong> 0.02</p>
                    <p><strong>最大值:</strong> 0.14</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 1.5%</p>
                <p><strong>最大亏损:</strong> 0.0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-08-29</td>
                <td>$4,314.09</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$281,245.81</td>
                <td>$281,245.81</td>
                <td>-0.30%</td>
                <td>+181.25%</td>
                <td>-3.66%</td>
            </tr>
            
            <tr>
                <td>2025-08-30</td>
                <td>$4,374.23</td>
                <td>short</td>
                <td>$271,249.06</td>
                <td>$54.05</td>
                <td>$271,303.11</td>
                <td>-3.54%</td>
                <td>+171.30%</td>
                <td>-7.07%</td>
            </tr>
            
            <tr>
                <td>2025-08-31</td>
                <td>$4,482.61</td>
                <td>long</td>
                <td>$268,803.29</td>
                <td>$53.54</td>
                <td>$268,856.83</td>
                <td>-0.90%</td>
                <td>+168.86%</td>
                <td>-7.91%</td>
            </tr>
            
            <tr>
                <td>2025-09-01</td>
                <td>$4,359.71</td>
                <td>short</td>
                <td>$262,079.17</td>
                <td>$52.72</td>
                <td>$262,131.89</td>
                <td>-2.50%</td>
                <td>+162.13%</td>
                <td>-10.21%</td>
            </tr>
            
            <tr>
                <td>2025-09-02</td>
                <td>$4,293.21</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$265,342.66</td>
                <td>$265,342.66</td>
                <td>+1.22%</td>
                <td>+165.34%</td>
                <td>-9.11%</td>
            </tr>
            
            <tr>
                <td>2025-09-03</td>
                <td>$4,477.06</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$266,065.85</td>
                <td>$266,065.85</td>
                <td>+0.27%</td>
                <td>+166.07%</td>
                <td>-8.86%</td>
            </tr>
            
            <tr>
                <td>2025-09-04</td>
                <td>$4,302.57</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$267,207.24</td>
                <td>$267,207.24</td>
                <td>+0.43%</td>
                <td>+167.21%</td>
                <td>-8.47%</td>
            </tr>
            
            <tr>
                <td>2025-09-05</td>
                <td>$4,281.00</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$271,694.52</td>
                <td>$271,694.52</td>
                <td>+1.68%</td>
                <td>+171.69%</td>
                <td>-6.93%</td>
            </tr>
            
            <tr>
                <td>2025-09-06</td>
                <td>$4,268.00</td>
                <td>short</td>
                <td>$270,361.15</td>
                <td>$54.34</td>
                <td>$270,415.49</td>
                <td>-0.47%</td>
                <td>+170.42%</td>
                <td>-7.37%</td>
            </tr>
            
            <tr>
                <td>2025-09-07</td>
                <td>$4,297.23</td>
                <td>long</td>
                <td>$271,551.85</td>
                <td>$54.27</td>
                <td>$271,606.12</td>
                <td>+0.44%</td>
                <td>+171.61%</td>
                <td>-6.96%</td>
            </tr>
            
            <tr>
                <td>2025-09-08</td>
                <td>$4,370.00</td>
                <td>long</td>
                <td>$269,576.12</td>
                <td>$53.28</td>
                <td>$269,629.41</td>
                <td>-0.73%</td>
                <td>+169.63%</td>
                <td>-7.64%</td>
            </tr>
            
            <tr>
                <td>2025-09-09</td>
                <td>$4,284.51</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$262,020.80</td>
                <td>$262,020.80</td>
                <td>-2.82%</td>
                <td>+162.02%</td>
                <td>-10.25%</td>
            </tr>
            
            <tr>
                <td>2025-09-10</td>
                <td>$4,403.66</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$263,143.60</td>
                <td>$263,143.60</td>
                <td>+0.43%</td>
                <td>+163.14%</td>
                <td>-9.86%</td>
            </tr>
            
            <tr>
                <td>2025-09-11</td>
                <td>$4,410.85</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$260,480.38</td>
                <td>$260,480.38</td>
                <td>-1.01%</td>
                <td>+160.48%</td>
                <td>-10.78%</td>
            </tr>
            
            <tr>
                <td>2025-09-12</td>
                <td>$4,541.00</td>
                <td>long</td>
                <td>$265,102.67</td>
                <td>$53.09</td>
                <td>$265,155.76</td>
                <td>+1.79%</td>
                <td>+165.16%</td>
                <td>-9.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-13</td>
                <td>$4,655.33</td>
                <td>short</td>
                <td>$266,156.39</td>
                <td>$53.89</td>
                <td>$266,210.27</td>
                <td>+0.40%</td>
                <td>+166.21%</td>
                <td>-8.81%</td>
            </tr>
            
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$268,525.65</td>
                <td>$54.34</td>
                <td>$268,579.99</td>
                <td>+0.89%</td>
                <td>+168.58%</td>
                <td>-8.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$263,751.61</td>
                <td>$53.12</td>
                <td>$263,804.73</td>
                <td>-1.78%</td>
                <td>+163.80%</td>
                <td>-9.64%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$269,792.80</td>
                <td>$269,792.80</td>
                <td>+2.27%</td>
                <td>+169.79%</td>
                <td>-7.59%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$263,924.23</td>
                <td>$52.82</td>
                <td>$263,977.06</td>
                <td>-2.16%</td>
                <td>+163.98%</td>
                <td>-9.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$271,791.91</td>
                <td>$54.33</td>
                <td>$271,846.25</td>
                <td>+2.98%</td>
                <td>+171.85%</td>
                <td>-6.88%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$277,884.97</td>
                <td>$277,884.97</td>
                <td>+2.22%</td>
                <td>+177.88%</td>
                <td>-4.81%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$277,190.64</td>
                <td>$55.32</td>
                <td>$277,245.96</td>
                <td>-0.23%</td>
                <td>+177.25%</td>
                <td>-5.03%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>short</td>
                <td>$275,657.18</td>
                <td>$55.10</td>
                <td>$275,712.29</td>
                <td>-0.55%</td>
                <td>+175.71%</td>
                <td>-5.56%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$276,406.83</td>
                <td>$55.61</td>
                <td>$276,462.44</td>
                <td>+0.27%</td>
                <td>+176.46%</td>
                <td>-5.30%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$272,997.69</td>
                <td>$54.92</td>
                <td>$273,052.62</td>
                <td>-1.23%</td>
                <td>+173.05%</td>
                <td>-6.47%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$274,388.46</td>
                <td>$55.01</td>
                <td>$274,443.47</td>
                <td>+0.51%</td>
                <td>+174.44%</td>
                <td>-5.99%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$277,703.51</td>
                <td>$55.70</td>
                <td>$277,759.20</td>
                <td>+1.21%</td>
                <td>+177.76%</td>
                <td>-4.86%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$276,336.46</td>
                <td>$55.45</td>
                <td>$276,391.91</td>
                <td>-0.49%</td>
                <td>+176.39%</td>
                <td>-5.33%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>short</td>
                <td>$278,670.87</td>
                <td>$55.75</td>
                <td>$278,726.62</td>
                <td>+0.84%</td>
                <td>+178.73%</td>
                <td>-4.53%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共270天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27"], "nav_values": [99783.56, 103017.36, 102451.99, 101756.59, 103265.4, 101513.83, 102738.31, 101822.05, 98456.74, 97740.8, 97031.02, 94163.7, 93837.94, 98585.46, 95304.53, 99657.0, 97224.68, 104839.15, 98261.1, 87490.95, 90866.48, 84432.92, 87915.64, 86288.59, 90829.95, 89320.8, 91930.2, 88302.33, 86058.55, 88709.58, 88369.19, 91777.26, 94791.27, 99670.87, 97069.87, 94418.13, 92750.44, 93942.04, 91723.6, 91270.34, 90280.35, 87852.08, 92433.88, 95227.13, 94590.88, 96843.52, 96084.67, 102129.76, 100704.07, 98906.92, 96741.29, 97095.14, 96876.88, 97375.05, 98616.22, 102908.64, 102078.2, 102505.29, 100216.17, 107484.56, 109462.81, 112770.66, 114461.88, 123182.73, 125887.24, 135614.31, 141682.65, 144431.25, 151027.3, 154873.55, 135925.04, 130768.33, 128665.71, 130403.28, 132375.38, 129015.82, 129047.27, 132645.32, 130252.04, 129496.86, 130312.07, 128582.34, 127175.47, 127025.55, 124067.99, 125724.93, 127610.43, 126027.98, 124956.61, 124358.48, 127222.92, 122204.95, 127785.93, 125755.74, 124082.08, 127374.21, 135188.74, 130052.81, 132179.32, 140101.74, 150674.05, 145766.56, 148394.83, 147734.13, 146305.41, 154646.34, 150654.79, 150133.55, 148638.4, 151490.36, 152822.49, 160098.89, 157993.67, 160338.23, 159219.58, 157373.54, 154123.81, 160159.6, 158670.7, 158177.99, 160724.3, 161135.52, 163000.93, 161100.44, 155330.03, 155274.21, 156824.94, 165703.48, 167843.47, 167919.28, 172993.62, 162495.4, 175303.11, 180580.29, 184509.22, 180195.57, 181700.52, 184357.47, 178501.83, 167488.47, 170543.13, 173928.42, 172944.25, 173629.66, 175163.65, 180369.18, 177336.69, 180074.84, 188547.99, 186896.32, 199376.66, 202653.27, 204781.91, 202161.06, 194381.56, 190055.86, 195368.99, 199331.14, 200175.6, 202276.28, 202608.38, 205040.25, 203102.13, 208353.87, 210204.99, 210721.56, 214988.72, 220442.85, 221514.54, 214885.53, 215842.64, 215484.42, 211333.76, 216014.77, 225879.97, 232507.35, 241482.67, 231665.83, 233135.61, 230596.66, 225955.73, 227161.91, 232706.97, 224962.39, 228336.15, 226740.68, 225399.26, 226665.42, 232906.26, 239936.39, 241849.47, 247576.23, 246292.16, 247240.3, 259941.84, 266704.49, 278884.65, 266155.86, 263264.05, 261763.2, 260707.64, 265459.18, 278566.49, 274677.16, 272221.67, 258626.35, 255882.22, 257779.85, 261973.87, 259326.79, 250130.52, 253318.26, 253639.06, 251917.31, 264987.84, 264561.11, 261212.27, 259937.18, 260579.71, 249902.7, 263985.39, 265894.23, 260826.08, 256308.41, 250070.99, 265413.1, 275774.24, 272464.22, 273975.83, 282415.79, 274213.59, 291717.87, 288676.23, 285803.34, 287855.62, 280915.66, 291938.68, 289226.51, 286996.75, 282079.79, 281245.81, 271303.11, 268856.83, 262131.89, 265342.66, 266065.85, 267207.24, 271694.52, 270415.49, 271606.12, 269629.41, 262020.8, 263143.6, 260480.38, 265155.76, 266210.27, 268579.99, 263804.73, 269792.8, 263977.06, 271846.25, 277884.97, 277245.96, 275712.29, 276462.44, 273052.62, 274443.47, 277759.2, 276391.91, 278726.62], "cumulative_returns": [-0.22, 3.02, 2.45, 1.76, 3.27, 1.51, 2.74, 1.82, -1.54, -2.26, -2.97, -5.84, -6.16, -1.41, -4.7, -0.34, -2.78, 4.84, -1.74, -12.51, -9.13, -15.57, -12.08, -13.71, -9.17, -10.68, -8.07, -11.7, -13.94, -11.29, -11.63, -8.22, -5.21, -0.33, -2.93, -5.58, -7.25, -6.06, -8.28, -8.73, -9.72, -12.15, -7.57, -4.77, -5.41, -3.16, -3.92, 2.13, 0.7, -1.09, -3.26, -2.9, -3.12, -2.62, -1.38, 2.91, 2.08, 2.51, 0.22, 7.48, 9.46, 12.77, 14.46, 23.18, 25.89, 35.61, 41.68, 44.43, 51.03, 54.87, 35.93, 30.77, 28.67, 30.4, 32.38, 29.02, 29.05, 32.65, 30.25, 29.5, 30.31, 28.58, 27.18, 27.03, 24.07, 25.72, 27.61, 26.03, 24.96, 24.36, 27.22, 22.2, 27.79, 25.76, 24.08, 27.37, 35.19, 30.05, 32.18, 40.1, 50.67, 45.77, 48.39, 47.73, 46.31, 54.65, 50.65, 50.13, 48.64, 51.49, 52.82, 60.1, 57.99, 60.34, 59.22, 57.37, 54.12, 60.16, 58.67, 58.18, 60.72, 61.14, 63.0, 61.1, 55.33, 55.27, 56.82, 65.7, 67.84, 67.92, 72.99, 62.5, 75.3, 80.58, 84.51, 80.2, 81.7, 84.36, 78.5, 67.49, 70.54, 73.93, 72.94, 73.63, 75.16, 80.37, 77.34, 80.07, 88.55, 86.9, 99.38, 102.65, 104.78, 102.16, 94.38, 90.06, 95.37, 99.33, 100.18, 102.28, 102.61, 105.04, 103.1, 108.35, 110.2, 110.72, 114.99, 120.44, 121.51, 114.89, 115.84, 115.48, 111.33, 116.01, 125.88, 132.51, 141.48, 131.67, 133.14, 130.6, 125.96, 127.16, 132.71, 124.96, 128.34, 126.74, 125.4, 126.67, 132.91, 139.94, 141.85, 147.58, 146.29, 147.24, 159.94, 166.7, 178.88, 166.16, 163.26, 161.76, 160.71, 165.46, 178.57, 174.68, 172.22, 158.63, 155.88, 157.78, 161.97, 159.33, 150.13, 153.32, 153.64, 151.92, 164.99, 164.56, 161.21, 159.94, 160.58, 149.9, 163.99, 165.89, 160.83, 156.31, 150.07, 165.41, 175.77, 172.46, 173.98, 182.42, 174.21, 191.72, 188.68, 185.8, 187.86, 180.92, 191.94, 189.23, 187.0, 182.08, 181.25, 171.3, 168.86, 162.13, 165.34, 166.07, 167.21, 171.69, 170.42, 171.61, 169.63, 162.02, 163.14, 160.48, 165.16, 166.21, 168.58, 163.8, 169.79, 163.98, 171.85, 177.88, 177.25, 175.71, 176.46, 173.05, 174.44, 177.76, 176.39, 178.73], "drawdowns": [0.0, 0.0, -0.55, -1.22, 0.0, -1.7, -0.51, -1.4, -4.66, -5.35, -6.04, -8.81, -9.13, -4.53, -7.71, -3.49, -5.85, 0.0, -6.27, -16.55, -13.33, -19.46, -16.14, -17.69, -13.36, -14.8, -12.31, -15.77, -17.91, -15.39, -15.71, -12.46, -9.58, -4.93, -7.41, -9.94, -11.53, -10.39, -12.51, -12.94, -13.89, -16.2, -11.83, -9.17, -9.78, -7.63, -8.35, -2.58, -3.94, -5.66, -7.72, -7.39, -7.59, -7.12, -5.94, -1.84, -2.63, -2.23, -4.41, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -12.23, -15.56, -16.92, -15.8, -14.53, -16.7, -16.68, -14.35, -15.9, -16.39, -15.86, -16.98, -17.88, -17.98, -19.89, -18.82, -17.6, -18.63, -19.32, -19.7, -17.85, -21.09, -17.49, -18.8, -19.88, -17.76, -12.71, -16.03, -14.65, -9.54, -2.71, -5.88, -4.18, -4.61, -5.53, -0.15, -2.72, -3.06, -4.03, -2.18, -1.32, 0.0, -1.31, 0.0, -0.7, -1.85, -3.88, -0.11, -1.04, -1.35, 0.0, 0.0, 0.0, -1.17, -4.71, -4.74, -3.79, 0.0, 0.0, 0.0, 0.0, -6.07, 0.0, 0.0, 0.0, -2.34, -1.52, -0.08, -3.26, -9.22, -7.57, -5.73, -6.27, -5.9, -5.07, -2.24, -3.89, -2.4, 0.0, -0.88, 0.0, 0.0, 0.0, -1.28, -5.08, -7.19, -4.6, -2.66, -2.25, -1.22, -1.06, 0.0, -0.95, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.99, -2.56, -2.72, -4.6, -2.48, 0.0, 0.0, 0.0, -4.07, -3.46, -4.51, -6.43, -5.93, -3.63, -6.84, -5.44, -6.1, -6.66, -6.14, -3.55, -0.64, 0.0, 0.0, -0.52, -0.14, 0.0, 0.0, 0.0, -4.56, -5.6, -6.14, -6.52, -4.81, -0.11, -1.51, -2.39, -7.26, -8.25, -7.57, -6.06, -7.01, -10.31, -9.17, -9.05, -9.67, -4.98, -5.14, -6.34, -6.79, -6.56, -10.39, -5.34, -4.66, -6.48, -8.1, -10.33, -4.83, -1.12, -2.3, -1.76, 0.0, -2.9, 0.0, -1.04, -2.03, -1.32, -3.7, 0.0, -0.93, -1.69, -3.38, -3.66, -7.07, -7.91, -10.21, -9.11, -8.86, -8.47, -6.93, -7.37, -6.96, -7.64, -10.25, -9.86, -10.78, -9.17, -8.81, -8.0, -9.64, -7.59, -9.58, -6.88, -4.81, -5.03, -5.56, -5.3, -6.47, -5.99, -4.86, -5.33, -4.53], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-02", "value": -21.09}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        