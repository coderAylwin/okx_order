
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-09-29 11:53:35</p>
            <p>回测期间: 2025-01-01 至 2025-09-27 (270 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+199.18%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+339.95%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-20.96%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">7.02</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">48.01%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">51.5%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.22</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">846</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $299,184.73</p>
            <p><strong>净盈亏:</strong> $199,184.73</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 846 次</p>
            <p><strong>盈利交易:</strong> 436 次</p>
            <p><strong>亏损交易:</strong> 410 次</p>
            <p><strong>胜率:</strong> 51.5%</p>
            <p><strong>盈亏比:</strong> 1.22</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 1h</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.02</p>
                    <p><strong>递增值:</strong> 0.02</p>
                    <p><strong>最大值:</strong> 0.14</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 1.5%</p>
                <p><strong>最大亏损:</strong> 0.0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-08-29</td>
                <td>$4,314.09</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$316,623.69</td>
                <td>$316,623.69</td>
                <td>-0.00%</td>
                <td>+216.62%</td>
                <td>-3.38%</td>
            </tr>
            
            <tr>
                <td>2025-08-30</td>
                <td>$4,374.23</td>
                <td>short</td>
                <td>$305,369.37</td>
                <td>$60.85</td>
                <td>$305,430.22</td>
                <td>-3.54%</td>
                <td>+205.43%</td>
                <td>-6.80%</td>
            </tr>
            
            <tr>
                <td>2025-08-31</td>
                <td>$4,482.61</td>
                <td>long</td>
                <td>$302,616.07</td>
                <td>$60.27</td>
                <td>$302,676.34</td>
                <td>-0.90%</td>
                <td>+202.68%</td>
                <td>-7.64%</td>
            </tr>
            
            <tr>
                <td>2025-09-01</td>
                <td>$4,359.71</td>
                <td>short</td>
                <td>$295,045.99</td>
                <td>$59.35</td>
                <td>$295,105.34</td>
                <td>-2.50%</td>
                <td>+195.11%</td>
                <td>-9.95%</td>
            </tr>
            
            <tr>
                <td>2025-09-02</td>
                <td>$4,293.21</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$298,720.07</td>
                <td>$298,720.07</td>
                <td>+1.22%</td>
                <td>+198.72%</td>
                <td>-8.84%</td>
            </tr>
            
            <tr>
                <td>2025-09-03</td>
                <td>$4,477.06</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$299,534.24</td>
                <td>$299,534.24</td>
                <td>+0.27%</td>
                <td>+199.53%</td>
                <td>-8.60%</td>
            </tr>
            
            <tr>
                <td>2025-09-04</td>
                <td>$4,302.57</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$295,693.85</td>
                <td>$295,693.85</td>
                <td>-1.28%</td>
                <td>+195.69%</td>
                <td>-9.77%</td>
            </tr>
            
            <tr>
                <td>2025-09-05</td>
                <td>$4,281.00</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$298,761.96</td>
                <td>$298,761.96</td>
                <td>+1.04%</td>
                <td>+198.76%</td>
                <td>-8.83%</td>
            </tr>
            
            <tr>
                <td>2025-09-06</td>
                <td>$4,268.00</td>
                <td>short</td>
                <td>$297,295.65</td>
                <td>$59.75</td>
                <td>$297,355.40</td>
                <td>-0.47%</td>
                <td>+197.36%</td>
                <td>-9.26%</td>
            </tr>
            
            <tr>
                <td>2025-09-07</td>
                <td>$4,297.23</td>
                <td>long</td>
                <td>$298,605.06</td>
                <td>$59.68</td>
                <td>$298,664.74</td>
                <td>+0.44%</td>
                <td>+198.66%</td>
                <td>-8.86%</td>
            </tr>
            
            <tr>
                <td>2025-09-08</td>
                <td>$4,370.00</td>
                <td>long</td>
                <td>$296,432.83</td>
                <td>$58.59</td>
                <td>$296,491.43</td>
                <td>-0.73%</td>
                <td>+196.49%</td>
                <td>-9.52%</td>
            </tr>
            
            <tr>
                <td>2025-09-09</td>
                <td>$4,284.51</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$288,124.49</td>
                <td>$288,124.49</td>
                <td>-2.82%</td>
                <td>+188.12%</td>
                <td>-12.08%</td>
            </tr>
            
            <tr>
                <td>2025-09-10</td>
                <td>$4,403.66</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$289,359.16</td>
                <td>$289,359.16</td>
                <td>+0.43%</td>
                <td>+189.36%</td>
                <td>-11.70%</td>
            </tr>
            
            <tr>
                <td>2025-09-11</td>
                <td>$4,410.85</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$286,430.60</td>
                <td>$286,430.60</td>
                <td>-1.01%</td>
                <td>+186.43%</td>
                <td>-12.59%</td>
            </tr>
            
            <tr>
                <td>2025-09-12</td>
                <td>$4,541.00</td>
                <td>long</td>
                <td>$291,922.27</td>
                <td>$58.46</td>
                <td>$291,980.73</td>
                <td>+1.94%</td>
                <td>+191.98%</td>
                <td>-10.90%</td>
            </tr>
            
            <tr>
                <td>2025-09-13</td>
                <td>$4,655.33</td>
                <td>short</td>
                <td>$293,082.35</td>
                <td>$59.34</td>
                <td>$293,141.69</td>
                <td>+0.40%</td>
                <td>+193.14%</td>
                <td>-10.55%</td>
            </tr>
            
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$295,691.77</td>
                <td>$59.84</td>
                <td>$295,751.60</td>
                <td>+0.89%</td>
                <td>+195.75%</td>
                <td>-9.75%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$290,434.14</td>
                <td>$58.50</td>
                <td>$290,492.63</td>
                <td>-1.78%</td>
                <td>+190.49%</td>
                <td>-11.35%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$297,086.94</td>
                <td>$297,086.94</td>
                <td>+2.27%</td>
                <td>+197.09%</td>
                <td>-9.34%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$290,217.39</td>
                <td>$58.06</td>
                <td>$290,275.45</td>
                <td>-2.29%</td>
                <td>+190.28%</td>
                <td>-11.42%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>short</td>
                <td>$299,760.15</td>
                <td>$59.66</td>
                <td>$299,819.81</td>
                <td>+3.29%</td>
                <td>+199.82%</td>
                <td>-8.51%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$296,196.68</td>
                <td>$296,196.68</td>
                <td>-1.21%</td>
                <td>+196.20%</td>
                <td>-9.61%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$297,419.09</td>
                <td>$59.11</td>
                <td>$297,478.20</td>
                <td>+0.43%</td>
                <td>+197.48%</td>
                <td>-9.22%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$296,772.01</td>
                <td>$59.28</td>
                <td>$296,831.29</td>
                <td>-0.22%</td>
                <td>+196.83%</td>
                <td>-9.42%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$299,466.15</td>
                <td>$60.10</td>
                <td>$299,526.24</td>
                <td>+0.91%</td>
                <td>+199.53%</td>
                <td>-8.60%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$292,168.25</td>
                <td>$58.78</td>
                <td>$292,227.03</td>
                <td>-2.44%</td>
                <td>+192.23%</td>
                <td>-10.83%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$293,656.40</td>
                <td>$58.88</td>
                <td>$293,715.27</td>
                <td>+0.51%</td>
                <td>+193.72%</td>
                <td>-10.37%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$297,204.35</td>
                <td>$59.61</td>
                <td>$297,263.95</td>
                <td>+1.21%</td>
                <td>+197.26%</td>
                <td>-9.29%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$295,741.18</td>
                <td>$59.35</td>
                <td>$295,800.53</td>
                <td>-0.49%</td>
                <td>+195.80%</td>
                <td>-9.74%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>short</td>
                <td>$299,124.89</td>
                <td>$59.84</td>
                <td>$299,184.73</td>
                <td>+1.14%</td>
                <td>+199.18%</td>
                <td>-8.70%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共270天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27"], "nav_values": [99783.56, 103017.36, 102451.99, 101656.27, 102301.01, 99072.25, 101527.65, 100566.42, 97242.56, 96535.45, 95834.35, 93002.46, 92680.72, 97369.77, 94122.51, 98421.0, 96018.82, 102753.43, 96306.24, 85750.16, 89058.58, 82753.13, 86334.63, 84617.89, 89102.14, 87621.4, 90181.46, 86622.71, 84421.57, 87022.1, 86688.18, 90031.54, 92580.53, 97346.2, 103153.95, 87630.95, 86083.19, 87189.13, 85130.06, 84709.5, 83790.63, 81536.95, 85789.39, 87851.94, 86258.88, 88313.09, 87620.96, 93130.46, 91830.37, 90191.7, 88216.8, 88539.47, 88340.45, 88794.83, 88095.55, 88544.6, 96321.88, 95280.78, 102622.47, 109951.97, 108896.83, 112187.57, 113870.05, 122545.81, 125236.34, 134913.11, 140950.09, 143684.47, 150246.41, 154567.25, 151025.13, 145295.54, 142959.35, 144890.04, 147081.14, 143348.36, 143383.41, 147381.08, 144721.92, 143882.85, 144788.58, 142866.7, 141303.57, 141116.38, 137790.85, 139631.1, 141725.15, 139967.67, 138742.35, 138078.23, 141258.7, 135687.11, 141883.82, 139475.82, 137619.55, 141270.83, 144576.13, 147149.0, 151797.94, 158518.92, 170480.92, 164928.41, 167902.18, 167154.62, 166356.69, 175840.74, 171302.15, 170709.55, 169009.43, 172252.23, 173766.82, 182040.57, 179646.83, 182312.74, 181040.75, 178690.37, 175000.4, 181853.74, 180163.05, 179603.71, 182985.4, 183151.43, 185271.72, 183082.33, 176524.64, 176461.16, 178223.14, 187710.02, 190134.24, 191056.87, 196830.4, 184947.08, 195522.46, 201408.39, 205790.4, 200979.09, 202657.79, 205621.14, 198657.27, 186400.58, 189800.01, 193567.61, 192472.34, 193779.2, 195491.54, 201300.85, 197916.52, 197665.99, 206120.46, 204314.85, 217958.34, 221540.38, 223867.36, 222564.9, 214310.17, 209540.99, 215398.83, 219759.4, 220690.28, 223006.23, 223372.44, 226053.48, 223916.65, 232351.64, 240167.35, 236004.05, 240783.24, 246891.76, 248092.11, 240520.74, 241592.09, 241191.15, 236545.31, 241784.76, 252826.85, 260244.86, 270290.85, 259302.74, 261278.26, 258432.79, 253231.61, 254583.42, 260731.84, 252054.58, 255834.64, 253772.0, 252270.6, 253635.52, 260618.82, 267741.28, 269875.81, 276266.45, 272003.82, 272593.39, 286597.4, 293672.4, 299203.39, 285547.33, 282444.71, 280588.64, 279457.11, 283738.52, 289946.54, 285898.42, 282850.57, 268724.42, 265872.97, 267768.62, 275433.22, 272650.14, 262981.39, 266332.91, 266670.09, 264859.83, 278602.03, 278153.38, 274632.48, 273291.99, 273967.43, 272178.89, 287517.15, 289595.89, 284075.97, 279155.6, 272362.19, 289071.88, 304191.97, 303811.05, 305496.23, 314907.09, 305761.34, 325279.45, 321672.69, 318471.41, 320758.57, 313025.22, 327702.57, 324658.04, 322155.11, 316635.81, 316623.69, 305430.22, 302676.34, 295105.34, 298720.07, 299534.24, 295693.85, 298761.96, 297355.4, 298664.74, 296491.43, 288124.49, 289359.16, 286430.6, 291980.73, 293141.69, 295751.6, 290492.63, 297086.94, 290275.45, 299819.81, 296196.68, 297478.2, 296831.29, 299526.24, 292227.03, 293715.27, 297263.95, 295800.53, 299184.73], "cumulative_returns": [-0.22, 3.02, 2.45, 1.66, 2.3, -0.93, 1.53, 0.57, -2.76, -3.46, -4.17, -7.0, -7.32, -2.63, -5.88, -1.58, -3.98, 2.75, -3.69, -14.25, -10.94, -17.25, -13.67, -15.38, -10.9, -12.38, -9.82, -13.38, -15.58, -12.98, -13.31, -9.97, -7.42, -2.65, 3.15, -12.37, -13.92, -12.81, -14.87, -15.29, -16.21, -18.46, -14.21, -12.15, -13.74, -11.69, -12.38, -6.87, -8.17, -9.81, -11.78, -11.46, -11.66, -11.21, -11.9, -11.46, -3.68, -4.72, 2.62, 9.95, 8.9, 12.19, 13.87, 22.55, 25.24, 34.91, 40.95, 43.68, 50.25, 54.57, 51.03, 45.3, 42.96, 44.89, 47.08, 43.35, 43.38, 47.38, 44.72, 43.88, 44.79, 42.87, 41.3, 41.12, 37.79, 39.63, 41.73, 39.97, 38.74, 38.08, 41.26, 35.69, 41.88, 39.48, 37.62, 41.27, 44.58, 47.15, 51.8, 58.52, 70.48, 64.93, 67.9, 67.15, 66.36, 75.84, 71.3, 70.71, 69.01, 72.25, 73.77, 82.04, 79.65, 82.31, 81.04, 78.69, 75.0, 81.85, 80.16, 79.6, 82.99, 83.15, 85.27, 83.08, 76.52, 76.46, 78.22, 87.71, 90.13, 91.06, 96.83, 84.95, 95.52, 101.41, 105.79, 100.98, 102.66, 105.62, 98.66, 86.4, 89.8, 93.57, 92.47, 93.78, 95.49, 101.3, 97.92, 97.67, 106.12, 104.31, 117.96, 121.54, 123.87, 122.56, 114.31, 109.54, 115.4, 119.76, 120.69, 123.01, 123.37, 126.05, 123.92, 132.35, 140.17, 136.0, 140.78, 146.89, 148.09, 140.52, 141.59, 141.19, 136.55, 141.78, 152.83, 160.24, 170.29, 159.3, 161.28, 158.43, 153.23, 154.58, 160.73, 152.05, 155.83, 153.77, 152.27, 153.64, 160.62, 167.74, 169.88, 176.27, 172.0, 172.59, 186.6, 193.67, 199.2, 185.55, 182.44, 180.59, 179.46, 183.74, 189.95, 185.9, 182.85, 168.72, 165.87, 167.77, 175.43, 172.65, 162.98, 166.33, 166.67, 164.86, 178.6, 178.15, 174.63, 173.29, 173.97, 172.18, 187.52, 189.6, 184.08, 179.16, 172.36, 189.07, 204.19, 203.81, 205.5, 214.91, 205.76, 225.28, 221.67, 218.47, 220.76, 213.03, 227.7, 224.66, 222.16, 216.64, 216.62, 205.43, 202.68, 195.11, 198.72, 199.53, 195.69, 198.76, 197.36, 198.66, 196.49, 188.12, 189.36, 186.43, 191.98, 193.14, 195.75, 190.49, 197.09, 190.28, 199.82, 196.2, 197.48, 196.83, 199.53, 192.23, 193.72, 197.26, 195.8, 199.18], "drawdowns": [0.0, 0.0, -0.55, -1.32, -0.7, -3.83, -1.45, -2.38, -5.61, -6.29, -6.97, -9.72, -10.03, -5.48, -8.63, -4.46, -6.79, -0.26, -6.51, -16.76, -13.55, -19.67, -16.19, -17.86, -13.51, -14.95, -12.46, -15.91, -18.05, -15.53, -15.85, -12.61, -10.13, -5.51, 0.0, -15.05, -16.55, -15.48, -17.47, -17.88, -18.77, -20.96, -16.83, -14.83, -16.38, -14.39, -15.06, -9.72, -10.98, -12.57, -14.48, -14.17, -14.36, -13.92, -14.6, -14.16, -6.62, -7.63, -0.52, 0.0, -0.96, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.29, -6.0, -7.51, -6.26, -4.84, -7.26, -7.24, -4.65, -6.37, -6.91, -6.33, -7.57, -8.58, -8.7, -10.85, -9.66, -8.31, -9.45, -10.24, -10.67, -8.61, -12.21, -8.21, -9.76, -10.96, -8.6, -6.46, -4.8, -1.79, 0.0, 0.0, -3.26, -1.51, -1.95, -2.42, 0.0, -2.58, -2.92, -3.88, -2.04, -1.18, 0.0, -1.31, 0.0, -0.7, -1.99, -4.01, -0.25, -1.18, -1.49, 0.0, 0.0, 0.0, -1.18, -4.72, -4.76, -3.8, 0.0, 0.0, 0.0, 0.0, -6.04, -0.66, 0.0, 0.0, -2.34, -1.52, -0.08, -3.47, -9.42, -7.77, -5.94, -6.47, -5.84, -5.0, -2.18, -3.83, -3.95, 0.0, -0.88, 0.0, 0.0, 0.0, -0.58, -4.27, -6.4, -3.78, -1.83, -1.42, -0.38, -0.22, 0.0, -0.95, 0.0, 0.0, -1.73, 0.0, 0.0, 0.0, -3.05, -2.62, -2.78, -4.65, -2.54, 0.0, 0.0, 0.0, -4.07, -3.33, -4.39, -6.31, -5.81, -3.54, -6.75, -5.35, -6.11, -6.67, -6.16, -3.58, -0.94, -0.15, 0.0, -1.54, -1.33, 0.0, 0.0, 0.0, -4.56, -5.6, -6.22, -6.6, -5.17, -3.09, -4.45, -5.47, -10.19, -11.14, -10.51, -7.94, -8.87, -12.11, -10.99, -10.87, -11.48, -6.89, -7.04, -8.21, -8.66, -8.43, -9.03, -3.91, -3.21, -5.06, -6.7, -8.97, -3.39, 0.0, -0.13, 0.0, 0.0, -2.9, 0.0, -1.11, -2.09, -1.39, -3.77, 0.0, -0.93, -1.69, -3.38, -3.38, -6.8, -7.64, -9.95, -8.84, -8.6, -9.77, -8.83, -9.26, -8.86, -9.52, -12.08, -11.7, -12.59, -10.9, -10.55, -9.75, -11.35, -9.34, -11.42, -8.51, -9.61, -9.22, -9.42, -8.6, -10.83, -10.37, -9.29, -9.74, -8.7], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-02-11", "value": -20.96}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        