
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-10-14 17:25:20</p>
            <p>回测期间: 2025-01-01 至 2025-10-13 (286 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+241.87%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+380.09%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-23.85%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">7.62</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">49.47%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">63.2%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.16</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">1905</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $341,870.61</p>
            <p><strong>净盈亏:</strong> $241,870.61</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 1905 次</p>
            <p><strong>盈利交易:</strong> 1204 次</p>
            <p><strong>亏损交易:</strong> 700 次</p>
            <p><strong>胜率:</strong> 63.2%</p>
            <p><strong>盈亏比:</strong> 1.16</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 15m</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.005</p>
                    <p><strong>递增值:</strong> 0.005</p>
                    <p><strong>最大值:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 0.8%</p>
                <p><strong>最大亏损:</strong> 0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$321,245.67</td>
                <td>$64.35</td>
                <td>$321,310.02</td>
                <td>-0.19%</td>
                <td>+221.31%</td>
                <td>-0.19%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$321,016.31</td>
                <td>$64.10</td>
                <td>$321,080.41</td>
                <td>-0.07%</td>
                <td>+221.08%</td>
                <td>-0.26%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>short</td>
                <td>$322,731.09</td>
                <td>$64.25</td>
                <td>$322,795.34</td>
                <td>+0.53%</td>
                <td>+222.80%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$307,956.93</td>
                <td>$61.61</td>
                <td>$308,018.54</td>
                <td>-4.58%</td>
                <td>+208.02%</td>
                <td>-4.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$305,730.85</td>
                <td>$61.12</td>
                <td>$305,791.97</td>
                <td>-0.72%</td>
                <td>+205.79%</td>
                <td>-5.27%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$307,400.37</td>
                <td>$307,400.37</td>
                <td>+0.53%</td>
                <td>+207.40%</td>
                <td>-4.77%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$310,409.89</td>
                <td>$61.75</td>
                <td>$310,471.64</td>
                <td>+1.00%</td>
                <td>+210.47%</td>
                <td>-3.82%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$312,944.71</td>
                <td>$62.56</td>
                <td>$313,007.27</td>
                <td>+0.82%</td>
                <td>+213.01%</td>
                <td>-3.03%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$322,580.45</td>
                <td>$65.00</td>
                <td>$322,645.45</td>
                <td>+3.08%</td>
                <td>+222.65%</td>
                <td>-0.05%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$313,211.86</td>
                <td>$63.01</td>
                <td>$313,274.87</td>
                <td>-2.90%</td>
                <td>+213.27%</td>
                <td>-2.95%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$311,943.41</td>
                <td>$62.82</td>
                <td>$312,006.23</td>
                <td>-0.40%</td>
                <td>+212.01%</td>
                <td>-3.34%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$317,879.33</td>
                <td>$63.07</td>
                <td>$317,942.40</td>
                <td>+1.90%</td>
                <td>+217.94%</td>
                <td>-1.50%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$321,299.83</td>
                <td>$64.19</td>
                <td>$321,364.02</td>
                <td>+1.08%</td>
                <td>+221.36%</td>
                <td>-0.44%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>long</td>
                <td>$331,967.56</td>
                <td>$66.51</td>
                <td>$332,034.07</td>
                <td>+3.32%</td>
                <td>+232.03%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$4,019.18</td>
                <td>long</td>
                <td>$331,533.72</td>
                <td>$66.32</td>
                <td>$331,600.04</td>
                <td>-0.13%</td>
                <td>+231.60%</td>
                <td>-0.13%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$4,163.28</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$329,311.42</td>
                <td>$329,311.42</td>
                <td>-0.69%</td>
                <td>+229.31%</td>
                <td>-0.82%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$4,117.88</td>
                <td>short</td>
                <td>$333,873.18</td>
                <td>$66.76</td>
                <td>$333,939.94</td>
                <td>+1.41%</td>
                <td>+233.94%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$4,324.55</td>
                <td>long</td>
                <td>$328,025.77</td>
                <td>$65.57</td>
                <td>$328,091.34</td>
                <td>-1.75%</td>
                <td>+228.09%</td>
                <td>-1.75%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$4,435.38</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$330,939.69</td>
                <td>$330,939.69</td>
                <td>+0.87%</td>
                <td>+230.94%</td>
                <td>-0.90%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$4,533.18</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$334,240.39</td>
                <td>$334,240.39</td>
                <td>+1.00%</td>
                <td>+234.24%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$4,453.67</td>
                <td>short</td>
                <td>$333,016.05</td>
                <td>$66.87</td>
                <td>$333,082.91</td>
                <td>-0.35%</td>
                <td>+233.08%</td>
                <td>-0.35%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$4,531.01</td>
                <td>short</td>
                <td>$336,633.65</td>
                <td>$67.63</td>
                <td>$336,701.29</td>
                <td>+1.09%</td>
                <td>+236.70%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$4,671.15</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$353,099.83</td>
                <td>$353,099.83</td>
                <td>+4.87%</td>
                <td>+253.10%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$4,510.48</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$350,368.46</td>
                <td>$350,368.46</td>
                <td>-0.77%</td>
                <td>+250.37%</td>
                <td>-0.77%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$4,445.05</td>
                <td>short</td>
                <td>$337,148.60</td>
                <td>$67.65</td>
                <td>$337,216.25</td>
                <td>-3.75%</td>
                <td>+237.22%</td>
                <td>-4.50%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$4,312.36</td>
                <td>short</td>
                <td>$325,851.41</td>
                <td>$65.21</td>
                <td>$325,916.62</td>
                <td>-3.35%</td>
                <td>+225.92%</td>
                <td>-7.70%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$4,101.01</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$326,134.06</td>
                <td>$326,134.06</td>
                <td>+0.07%</td>
                <td>+226.13%</td>
                <td>-7.64%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$3,822.61</td>
                <td>long</td>
                <td>$321,650.84</td>
                <td>$65.54</td>
                <td>$321,716.38</td>
                <td>-1.35%</td>
                <td>+221.72%</td>
                <td>-8.89%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$4,031.83</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$330,320.20</td>
                <td>$330,320.20</td>
                <td>+2.67%</td>
                <td>+230.32%</td>
                <td>-6.45%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$4,147.25</td>
                <td>short</td>
                <td>$341,802.66</td>
                <td>$67.95</td>
                <td>$341,870.61</td>
                <td>+3.50%</td>
                <td>+241.87%</td>
                <td>-3.18%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共286天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [100079.62, 101114.34, 101122.65, 98880.57, 100255.29, 99780.01, 100824.29, 102800.43, 104570.56, 102758.1, 99078.43, 97923.18, 97129.19, 100664.21, 99038.04, 100702.97, 99382.49, 99726.11, 95476.99, 86962.87, 91382.03, 84475.15, 87952.0, 87441.88, 90380.24, 90477.37, 91026.89, 86688.93, 91472.83, 93340.9, 90984.75, 91279.97, 91976.62, 104340.39, 103852.0, 106734.24, 110138.71, 109689.86, 106946.29, 104762.88, 106901.47, 105243.8, 111787.21, 112340.64, 114541.4, 116424.09, 116698.4, 122318.48, 116676.86, 119271.46, 119736.02, 116417.98, 119214.28, 116160.49, 118254.26, 115513.87, 120952.19, 120449.39, 133445.07, 136039.14, 131975.11, 131809.29, 142471.36, 137855.51, 143531.98, 144083.26, 146930.98, 154896.32, 168693.86, 177603.81, 159133.49, 157400.57, 163291.97, 162122.28, 164255.05, 160080.94, 163136.66, 164889.49, 163082.68, 164639.91, 163719.19, 162812.93, 161798.88, 158604.32, 154476.12, 153495.5, 157498.93, 153208.73, 152225.98, 148382.62, 143646.84, 143234.9, 144900.83, 135242.2, 137679.78, 141150.33, 156695.94, 158121.37, 169971.37, 172480.89, 178226.61, 168259.9, 168989.79, 161993.61, 161020.1, 172041.24, 171456.39, 165558.55, 162726.3, 164223.72, 164822.35, 171507.56, 173786.28, 173337.09, 173197.11, 168060.89, 165544.56, 164778.94, 166736.8, 165809.06, 170508.08, 174387.65, 175588.83, 169973.5, 164884.67, 164975.51, 170493.97, 184729.99, 203629.81, 201142.63, 220230.67, 219491.36, 212344.64, 221305.43, 222777.52, 209486.24, 214177.41, 217605.95, 214014.17, 200149.86, 204814.34, 206984.39, 204312.53, 192741.91, 192820.54, 201032.53, 202764.75, 208823.21, 206197.96, 198946.53, 200919.34, 201582.28, 193109.84, 189711.97, 186354.87, 181437.02, 192006.15, 193733.14, 194955.91, 196651.18, 192379.77, 200645.38, 196845.6, 192503.75, 186567.97, 189533.82, 185633.88, 187835.02, 184139.5, 179987.45, 176416.58, 177215.76, 187965.28, 190568.26, 186259.94, 186342.66, 189194.91, 183372.49, 180686.5, 178677.77, 178345.66, 185374.32, 184738.9, 179608.59, 182332.24, 181300.69, 180972.86, 182734.32, 184105.71, 185387.45, 188468.82, 185743.75, 188022.8, 189085.73, 191492.57, 191127.06, 193310.92, 187062.81, 190238.9, 190407.98, 198063.47, 202009.4, 207824.73, 207249.93, 204439.34, 206575.22, 207676.62, 209929.09, 218586.23, 218649.47, 225447.5, 223253.48, 233646.7, 232521.28, 246325.05, 247394.4, 250753.58, 254491.37, 258843.47, 253671.28, 257456.56, 266451.06, 266551.38, 263449.14, 275453.9, 270036.69, 281375.24, 275571.33, 280871.4, 278245.67, 281979.03, 296484.68, 303605.32, 306443.86, 310905.27, 305972.68, 311949.44, 316262.57, 311492.9, 314112.27, 304423.79, 295951.51, 291856.49, 296531.0, 301810.35, 303181.66, 305759.62, 308351.65, 303637.47, 305028.93, 307986.66, 301847.83, 305015.29, 310168.53, 303901.68, 321925.2, 321310.02, 321080.41, 322795.34, 308018.54, 305791.97, 307400.37, 310471.64, 313007.27, 322645.45, 313274.87, 312006.23, 317942.4, 321364.02, 332034.07, 331600.04, 329311.42, 333939.94, 328091.34, 330939.69, 334240.39, 333082.91, 336701.29, 353099.83, 350368.46, 337216.25, 325916.62, 326134.06, 321716.38, 330320.2, 341870.61], "cumulative_returns": [0.08, 1.11, 1.12, -1.12, 0.26, -0.22, 0.82, 2.8, 4.57, 2.76, -0.92, -2.08, -2.87, 0.66, -0.96, 0.7, -0.62, -0.27, -4.52, -13.04, -8.62, -15.52, -12.05, -12.56, -9.62, -9.52, -8.97, -13.31, -8.53, -6.66, -9.02, -8.72, -8.02, 4.34, 3.85, 6.73, 10.14, 9.69, 6.95, 4.76, 6.9, 5.24, 11.79, 12.34, 14.54, 16.42, 16.7, 22.32, 16.68, 19.27, 19.74, 16.42, 19.21, 16.16, 18.25, 15.51, 20.95, 20.45, 33.45, 36.04, 31.98, 31.81, 42.47, 37.86, 43.53, 44.08, 46.93, 54.9, 68.69, 77.6, 59.13, 57.4, 63.29, 62.12, 64.26, 60.08, 63.14, 64.89, 63.08, 64.64, 63.72, 62.81, 61.8, 58.6, 54.48, 53.5, 57.5, 53.21, 52.23, 48.38, 43.65, 43.23, 44.9, 35.24, 37.68, 41.15, 56.7, 58.12, 69.97, 72.48, 78.23, 68.26, 68.99, 61.99, 61.02, 72.04, 71.46, 65.56, 62.73, 64.22, 64.82, 71.51, 73.79, 73.34, 73.2, 68.06, 65.54, 64.78, 66.74, 65.81, 70.51, 74.39, 75.59, 69.97, 64.88, 64.98, 70.49, 84.73, 103.63, 101.14, 120.23, 119.49, 112.34, 121.31, 122.78, 109.49, 114.18, 117.61, 114.01, 100.15, 104.81, 106.98, 104.31, 92.74, 92.82, 101.03, 102.76, 108.82, 106.2, 98.95, 100.92, 101.58, 93.11, 89.71, 86.35, 81.44, 92.01, 93.73, 94.96, 96.65, 92.38, 100.65, 96.85, 92.5, 86.57, 89.53, 85.63, 87.84, 84.14, 79.99, 76.42, 77.22, 87.97, 90.57, 86.26, 86.34, 89.19, 83.37, 80.69, 78.68, 78.35, 85.37, 84.74, 79.61, 82.33, 81.3, 80.97, 82.73, 84.11, 85.39, 88.47, 85.74, 88.02, 89.09, 91.49, 91.13, 93.31, 87.06, 90.24, 90.41, 98.06, 102.01, 107.82, 107.25, 104.44, 106.58, 107.68, 109.93, 118.59, 118.65, 125.45, 123.25, 133.65, 132.52, 146.33, 147.39, 150.75, 154.49, 158.84, 153.67, 157.46, 166.45, 166.55, 163.45, 175.45, 170.04, 181.38, 175.57, 180.87, 178.25, 181.98, 196.48, 203.61, 206.44, 210.91, 205.97, 211.95, 216.26, 211.49, 214.11, 204.42, 195.95, 191.86, 196.53, 201.81, 203.18, 205.76, 208.35, 203.64, 205.03, 207.99, 201.85, 205.02, 210.17, 203.9, 221.93, 221.31, 221.08, 222.8, 208.02, 205.79, 207.4, 210.47, 213.01, 222.65, 213.27, 212.01, 217.94, 221.36, 232.03, 231.6, 229.31, 233.94, 228.09, 230.94, 234.24, 233.08, 236.7, 253.1, 250.37, 237.22, 225.92, 226.13, 221.72, 230.32, 241.87], "drawdowns": [0.0, 0.0, 0.0, -2.22, -0.86, -1.33, -0.3, 0.0, 0.0, -1.73, -5.25, -6.36, -7.12, -3.74, -5.29, -3.7, -4.96, -4.63, -8.7, -16.84, -12.61, -19.22, -15.89, -16.38, -13.57, -13.48, -12.95, -17.1, -12.53, -10.74, -12.99, -12.71, -12.04, -0.22, -0.69, 0.0, 0.0, -0.41, -2.9, -4.88, -2.94, -4.44, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -4.61, -2.49, -2.11, -4.82, -2.54, -5.03, -3.32, -5.56, -1.12, -1.53, 0.0, 0.0, -2.99, -3.11, 0.0, -3.24, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -10.4, -11.38, -8.06, -8.72, -7.52, -9.87, -8.15, -7.16, -8.18, -7.3, -7.82, -8.33, -8.9, -10.7, -13.02, -13.57, -11.32, -13.74, -14.29, -16.45, -19.12, -19.35, -18.41, -23.85, -22.48, -20.53, -11.77, -10.97, -4.3, -2.88, 0.0, -5.59, -5.18, -9.11, -9.65, -3.47, -3.8, -7.11, -8.7, -7.86, -7.52, -3.77, -2.49, -2.74, -2.82, -5.7, -7.12, -7.55, -6.45, -6.97, -4.33, -2.15, -1.48, -4.63, -7.49, -7.43, -4.34, 0.0, 0.0, -1.22, 0.0, -0.34, -3.58, 0.0, 0.0, -5.97, -3.86, -2.32, -3.93, -10.16, -8.06, -7.09, -8.29, -13.48, -13.45, -9.76, -8.98, -6.26, -7.44, -10.7, -9.81, -9.51, -13.32, -14.84, -16.35, -18.56, -13.81, -13.04, -12.49, -11.73, -13.64, -9.93, -11.64, -13.59, -16.25, -14.92, -16.67, -15.68, -17.34, -19.21, -20.81, -20.45, -15.63, -14.46, -16.39, -16.35, -15.07, -17.69, -18.89, -19.8, -19.94, -16.79, -17.07, -19.38, -18.16, -18.62, -18.77, -17.97, -17.36, -16.78, -15.4, -16.62, -15.6, -15.12, -14.04, -14.21, -13.23, -16.03, -14.61, -14.53, -11.09, -9.32, -6.71, -6.97, -8.23, -7.27, -6.78, -5.77, -1.88, -1.85, 0.0, -0.97, 0.0, -0.48, 0.0, 0.0, 0.0, 0.0, 0.0, -2.0, -0.54, 0.0, 0.0, -1.16, 0.0, -1.97, 0.0, -2.06, -0.18, -1.11, 0.0, 0.0, 0.0, 0.0, 0.0, -1.59, 0.0, 0.0, -1.51, -0.68, -3.74, -6.42, -7.72, -6.24, -4.57, -4.14, -3.32, -2.5, -3.99, -3.55, -2.62, -4.56, -3.56, -1.93, -3.91, 0.0, -0.19, -0.26, 0.0, -4.58, -5.27, -4.77, -3.82, -3.03, -0.05, -2.95, -3.34, -1.5, -0.44, 0.0, -0.13, -0.82, 0.0, -1.75, -0.9, 0.0, -0.35, 0.0, 0.0, -0.77, -4.5, -7.7, -7.64, -8.89, -6.45, -3.18], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-04", "value": -23.85}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        