
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-10-14 17:31:55</p>
            <p>回测期间: 2025-01-01 至 2025-10-13 (286 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+285.26%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+459.19%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-28.20%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">8.76</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">52.07%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">65.0%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.14</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">2042</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $385,264.45</p>
            <p><strong>净盈亏:</strong> $285,264.45</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 2042 次</p>
            <p><strong>盈利交易:</strong> 1327 次</p>
            <p><strong>亏损交易:</strong> 714 次</p>
            <p><strong>胜率:</strong> 65.0%</p>
            <p><strong>盈亏比:</strong> 1.14</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 15m</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.005</p>
                    <p><strong>递增值:</strong> 0.005</p>
                    <p><strong>最大值:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 0.8%</p>
                <p><strong>最大亏损:</strong> 0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$395,082.20</td>
                <td>$79.14</td>
                <td>$395,161.34</td>
                <td>+0.73%</td>
                <td>+295.16%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$394,800.52</td>
                <td>$78.83</td>
                <td>$394,879.35</td>
                <td>-0.07%</td>
                <td>+294.88%</td>
                <td>-0.07%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>short</td>
                <td>$396,909.48</td>
                <td>$79.01</td>
                <td>$396,988.49</td>
                <td>+0.53%</td>
                <td>+296.99%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$378,739.61</td>
                <td>$75.77</td>
                <td>$378,815.38</td>
                <td>-4.58%</td>
                <td>+278.82%</td>
                <td>-4.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$374,973.60</td>
                <td>$74.96</td>
                <td>$375,048.56</td>
                <td>-0.99%</td>
                <td>+275.05%</td>
                <td>-5.53%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$376,663.21</td>
                <td>$376,663.21</td>
                <td>+0.43%</td>
                <td>+276.66%</td>
                <td>-5.12%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$379,561.11</td>
                <td>$75.51</td>
                <td>$379,636.61</td>
                <td>+0.79%</td>
                <td>+279.64%</td>
                <td>-4.37%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$380,232.69</td>
                <td>$76.01</td>
                <td>$380,308.70</td>
                <td>+0.18%</td>
                <td>+280.31%</td>
                <td>-4.20%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$388,425.76</td>
                <td>$78.35</td>
                <td>$388,504.10</td>
                <td>+2.15%</td>
                <td>+288.50%</td>
                <td>-2.14%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$372,428.16</td>
                <td>$74.89</td>
                <td>$372,503.05</td>
                <td>-4.12%</td>
                <td>+272.50%</td>
                <td>-6.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$370,919.67</td>
                <td>$74.69</td>
                <td>$370,994.36</td>
                <td>-0.41%</td>
                <td>+270.99%</td>
                <td>-6.55%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$381,677.70</td>
                <td>$75.73</td>
                <td>$381,753.43</td>
                <td>+2.90%</td>
                <td>+281.75%</td>
                <td>-3.84%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$382,723.49</td>
                <td>$76.46</td>
                <td>$382,799.95</td>
                <td>+0.27%</td>
                <td>+282.80%</td>
                <td>-3.57%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>long</td>
                <td>$393,518.79</td>
                <td>$78.85</td>
                <td>$393,597.64</td>
                <td>+2.82%</td>
                <td>+293.60%</td>
                <td>-0.85%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$4,019.18</td>
                <td>long</td>
                <td>$387,882.62</td>
                <td>$77.59</td>
                <td>$387,960.22</td>
                <td>-1.43%</td>
                <td>+287.96%</td>
                <td>-2.27%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$4,163.28</td>
                <td>long</td>
                <td>$385,738.30</td>
                <td>$77.60</td>
                <td>$385,815.90</td>
                <td>-0.55%</td>
                <td>+285.82%</td>
                <td>-2.81%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$4,117.88</td>
                <td>short</td>
                <td>$392,183.60</td>
                <td>$78.42</td>
                <td>$392,262.02</td>
                <td>+1.67%</td>
                <td>+292.26%</td>
                <td>-1.19%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$4,324.55</td>
                <td>long</td>
                <td>$386,629.47</td>
                <td>$77.29</td>
                <td>$386,706.76</td>
                <td>-1.42%</td>
                <td>+286.71%</td>
                <td>-2.59%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$4,435.38</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$387,738.93</td>
                <td>$387,738.93</td>
                <td>+0.27%</td>
                <td>+287.74%</td>
                <td>-2.33%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$4,533.18</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$389,360.07</td>
                <td>$389,360.07</td>
                <td>+0.42%</td>
                <td>+289.36%</td>
                <td>-1.92%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$4,453.67</td>
                <td>short</td>
                <td>$381,528.98</td>
                <td>$76.61</td>
                <td>$381,605.59</td>
                <td>-1.99%</td>
                <td>+281.61%</td>
                <td>-3.87%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$4,531.01</td>
                <td>short</td>
                <td>$381,695.45</td>
                <td>$76.69</td>
                <td>$381,772.14</td>
                <td>+0.04%</td>
                <td>+281.77%</td>
                <td>-3.83%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$4,671.15</td>
                <td>long</td>
                <td>$400,496.93</td>
                <td>$80.07</td>
                <td>$400,577.00</td>
                <td>+4.93%</td>
                <td>+300.58%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$4,510.48</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$403,649.48</td>
                <td>$403,649.48</td>
                <td>+0.77%</td>
                <td>+303.65%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$4,445.05</td>
                <td>short</td>
                <td>$389,999.35</td>
                <td>$78.25</td>
                <td>$390,077.61</td>
                <td>-3.36%</td>
                <td>+290.08%</td>
                <td>-3.36%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$4,312.36</td>
                <td>short</td>
                <td>$373,593.12</td>
                <td>$74.77</td>
                <td>$373,667.88</td>
                <td>-4.21%</td>
                <td>+273.67%</td>
                <td>-7.43%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$4,101.01</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$369,831.12</td>
                <td>$369,831.12</td>
                <td>-1.03%</td>
                <td>+269.83%</td>
                <td>-8.38%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$3,822.61</td>
                <td>long</td>
                <td>$364,747.33</td>
                <td>$74.32</td>
                <td>$364,821.65</td>
                <td>-1.35%</td>
                <td>+264.82%</td>
                <td>-9.62%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$4,031.83</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$374,578.14</td>
                <td>$374,578.14</td>
                <td>+2.67%</td>
                <td>+274.58%</td>
                <td>-7.20%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$4,147.25</td>
                <td>short</td>
                <td>$385,187.87</td>
                <td>$76.57</td>
                <td>$385,264.45</td>
                <td>+2.85%</td>
                <td>+285.26%</td>
                <td>-4.55%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共286天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [100153.4, 101730.27, 102552.31, 101476.7, 102773.57, 102286.22, 102322.62, 103219.31, 104508.86, 102134.2, 98476.99, 96785.09, 98093.71, 102477.03, 100946.71, 101632.42, 98335.77, 98937.18, 92457.49, 86571.92, 90971.34, 83885.52, 87782.88, 87751.25, 90699.97, 90700.17, 92469.17, 88849.57, 92917.51, 95035.1, 93397.11, 94350.26, 95980.84, 105747.91, 109530.08, 110809.05, 115889.54, 115337.86, 113596.1, 111768.62, 112647.38, 110673.39, 117554.48, 117199.15, 119346.23, 121128.63, 120973.91, 128836.44, 121731.83, 125173.88, 125601.02, 122120.46, 125988.21, 122539.22, 124747.93, 123031.08, 128922.23, 129413.12, 146775.86, 147603.34, 140766.46, 147472.89, 155780.52, 155614.27, 163317.82, 163944.91, 170214.48, 179019.04, 194881.23, 208559.53, 191255.05, 179066.54, 183876.5, 182383.36, 185569.04, 179063.72, 181271.98, 185502.67, 183469.98, 185221.85, 183790.61, 182099.34, 180536.04, 178299.64, 173658.66, 173987.25, 176277.3, 173695.02, 172357.02, 168734.92, 163111.83, 163024.91, 164464.44, 149749.02, 151656.22, 156169.12, 173942.5, 176451.15, 186813.98, 197275.77, 204384.07, 192198.04, 194277.5, 182575.91, 180779.88, 190100.33, 189454.12, 182937.16, 179807.61, 183410.1, 184546.38, 193567.45, 200883.48, 200944.12, 200781.91, 194827.76, 189816.34, 189355.01, 190638.52, 190625.74, 195327.58, 199360.17, 200360.62, 192299.47, 187927.96, 188702.16, 194285.19, 215599.34, 241474.38, 238525.0, 263249.37, 262365.65, 256608.92, 268732.46, 270265.34, 250166.23, 255768.32, 261940.95, 251808.2, 240638.5, 244057.47, 240051.86, 235921.07, 223148.3, 222069.69, 231511.23, 235373.3, 237027.56, 235242.95, 225774.46, 232389.86, 233156.57, 222827.41, 220070.48, 216176.19, 210471.51, 228119.02, 228687.72, 231072.21, 232773.65, 227108.63, 236400.1, 230851.56, 226161.64, 220303.54, 224552.16, 223929.06, 228396.59, 229451.1, 224277.34, 218734.74, 224250.92, 244033.03, 243075.97, 239728.75, 241753.69, 245375.11, 239450.65, 235943.11, 233320.12, 234749.11, 244000.6, 245502.32, 242077.68, 249695.39, 246350.66, 246068.79, 246443.22, 250278.82, 250768.9, 254936.8, 249797.6, 248792.37, 250889.75, 255158.48, 251662.65, 253728.64, 255725.44, 253399.5, 254396.89, 265106.29, 270387.91, 274572.68, 271286.86, 265701.57, 274135.11, 268866.83, 269857.6, 279575.21, 279877.76, 285555.37, 283885.79, 293190.75, 297822.24, 311572.34, 313290.73, 317989.5, 322686.48, 322768.8, 313809.38, 320831.7, 331977.05, 328270.8, 322512.46, 329200.01, 322725.49, 341677.59, 331402.84, 336739.45, 333929.9, 339242.1, 356325.65, 361060.31, 358682.34, 362703.85, 354516.75, 368101.48, 379259.01, 373466.46, 376006.26, 367185.54, 359355.47, 356578.71, 356604.14, 361219.39, 363847.58, 369314.97, 369266.08, 362063.34, 366631.73, 369375.75, 362499.97, 364712.98, 373145.11, 368265.95, 392309.69, 395161.34, 394879.35, 396988.49, 378815.38, 375048.56, 376663.21, 379636.61, 380308.7, 388504.1, 372503.05, 370994.36, 381753.43, 382799.95, 393597.64, 387960.22, 385815.9, 392262.02, 386706.76, 387738.93, 389360.07, 381605.59, 381772.14, 400577.0, 403649.48, 390077.61, 373667.88, 369831.12, 364821.65, 374578.14, 385264.45], "cumulative_returns": [0.15, 1.73, 2.55, 1.48, 2.77, 2.29, 2.32, 3.22, 4.51, 2.13, -1.52, -3.21, -1.91, 2.48, 0.95, 1.63, -1.66, -1.06, -7.54, -13.43, -9.03, -16.11, -12.22, -12.25, -9.3, -9.3, -7.53, -11.15, -7.08, -4.96, -6.6, -5.65, -4.02, 5.75, 9.53, 10.81, 15.89, 15.34, 13.6, 11.77, 12.65, 10.67, 17.55, 17.2, 19.35, 21.13, 20.97, 28.84, 21.73, 25.17, 25.6, 22.12, 25.99, 22.54, 24.75, 23.03, 28.92, 29.41, 46.78, 47.6, 40.77, 47.47, 55.78, 55.61, 63.32, 63.94, 70.21, 79.02, 94.88, 108.56, 91.26, 79.07, 83.88, 82.38, 85.57, 79.06, 81.27, 85.5, 83.47, 85.22, 83.79, 82.1, 80.54, 78.3, 73.66, 73.99, 76.28, 73.7, 72.36, 68.73, 63.11, 63.02, 64.46, 49.75, 51.66, 56.17, 73.94, 76.45, 86.81, 97.28, 104.38, 92.2, 94.28, 82.58, 80.78, 90.1, 89.45, 82.94, 79.81, 83.41, 84.55, 93.57, 100.88, 100.94, 100.78, 94.83, 89.82, 89.36, 90.64, 90.63, 95.33, 99.36, 100.36, 92.3, 87.93, 88.7, 94.29, 115.6, 141.47, 138.53, 163.25, 162.37, 156.61, 168.73, 170.27, 150.17, 155.77, 161.94, 151.81, 140.64, 144.06, 140.05, 135.92, 123.15, 122.07, 131.51, 135.37, 137.03, 135.24, 125.77, 132.39, 133.16, 122.83, 120.07, 116.18, 110.47, 128.12, 128.69, 131.07, 132.77, 127.11, 136.4, 130.85, 126.16, 120.3, 124.55, 123.93, 128.4, 129.45, 124.28, 118.73, 124.25, 144.03, 143.08, 139.73, 141.75, 145.38, 139.45, 135.94, 133.32, 134.75, 144.0, 145.5, 142.08, 149.7, 146.35, 146.07, 146.44, 150.28, 150.77, 154.94, 149.8, 148.79, 150.89, 155.16, 151.66, 153.73, 155.73, 153.4, 154.4, 165.11, 170.39, 174.57, 171.29, 165.7, 174.14, 168.87, 169.86, 179.58, 179.88, 185.56, 183.89, 193.19, 197.82, 211.57, 213.29, 217.99, 222.69, 222.77, 213.81, 220.83, 231.98, 228.27, 222.51, 229.2, 222.73, 241.68, 231.4, 236.74, 233.93, 239.24, 256.33, 261.06, 258.68, 262.7, 254.52, 268.1, 279.26, 273.47, 276.01, 267.19, 259.36, 256.58, 256.6, 261.22, 263.85, 269.31, 269.27, 262.06, 266.63, 269.38, 262.5, 264.71, 273.15, 268.27, 292.31, 295.16, 294.88, 296.99, 278.82, 275.05, 276.66, 279.64, 280.31, 288.5, 272.5, 270.99, 281.75, 282.8, 293.6, 287.96, 285.82, 292.26, 286.71, 287.74, 289.36, 281.61, 281.77, 300.58, 303.65, 290.08, 273.67, 269.83, 264.82, 274.58, 285.26], "drawdowns": [0.0, 0.0, 0.0, -1.05, 0.0, -0.47, -0.44, 0.0, 0.0, -2.27, -5.77, -7.39, -6.14, -1.94, -3.41, -2.75, -5.91, -5.33, -11.53, -17.16, -12.95, -19.73, -16.0, -16.03, -13.21, -13.21, -11.52, -14.98, -11.09, -9.07, -10.63, -9.72, -8.16, 0.0, 0.0, 0.0, 0.0, -0.48, -1.98, -3.56, -2.8, -4.5, 0.0, -0.3, 0.0, 0.0, -0.13, 0.0, -5.51, -2.84, -2.51, -5.21, -2.21, -4.89, -3.17, -4.51, 0.0, 0.0, 0.0, 0.0, -4.63, -0.09, 0.0, -0.11, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -8.3, -14.14, -11.84, -12.55, -11.02, -14.14, -13.08, -11.06, -12.03, -11.19, -11.88, -12.69, -13.44, -14.51, -16.73, -16.58, -15.48, -16.72, -17.36, -19.1, -21.79, -21.83, -21.14, -28.2, -27.28, -25.12, -16.6, -15.4, -10.43, -5.41, -2.0, -7.84, -6.85, -12.46, -13.32, -8.85, -9.16, -12.29, -13.79, -12.06, -11.51, -7.19, -3.68, -3.65, -3.73, -6.58, -8.99, -9.21, -8.59, -8.6, -6.34, -4.41, -3.93, -7.8, -9.89, -9.52, -6.84, 0.0, 0.0, -1.22, 0.0, -0.34, -2.52, 0.0, 0.0, -7.44, -5.36, -3.08, -6.83, -10.96, -9.7, -11.18, -12.71, -17.43, -17.83, -14.34, -12.91, -12.3, -12.96, -16.46, -14.01, -13.73, -17.55, -18.57, -20.01, -22.12, -15.59, -15.38, -14.5, -13.87, -15.97, -12.53, -14.58, -16.32, -18.49, -16.91, -17.14, -15.49, -15.1, -17.02, -19.07, -17.03, -9.71, -10.06, -11.3, -10.55, -9.21, -11.4, -12.7, -13.67, -13.14, -9.72, -9.16, -10.43, -7.61, -8.85, -8.95, -8.81, -7.4, -7.21, -5.67, -7.57, -7.95, -7.17, -5.59, -6.88, -6.12, -5.38, -6.24, -5.87, -1.91, 0.0, 0.0, -1.2, -3.23, -0.16, -2.08, -1.72, 0.0, 0.0, 0.0, -0.58, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.78, -0.6, 0.0, -1.12, -2.85, -0.84, -2.79, 0.0, -3.01, -1.45, -2.27, -0.71, 0.0, 0.0, -0.66, 0.0, -2.26, 0.0, 0.0, -1.53, -0.86, -3.18, -5.25, -5.98, -5.97, -4.76, -4.06, -2.62, -2.63, -4.53, -3.33, -2.61, -4.42, -3.84, -1.61, -2.9, 0.0, 0.0, -0.07, 0.0, -4.58, -5.53, -5.12, -4.37, -4.2, -2.14, -6.17, -6.55, -3.84, -3.57, -0.85, -2.27, -2.81, -1.19, -2.59, -2.33, -1.92, -3.87, -3.83, 0.0, 0.0, -3.36, -7.43, -8.38, -9.62, -7.2, -4.55], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-04", "value": -28.2}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        