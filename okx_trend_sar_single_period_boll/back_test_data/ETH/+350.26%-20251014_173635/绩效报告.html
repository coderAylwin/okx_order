
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH - SAR Single Period Trend Filter 策略绩效报告</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📈 ETH - SAR Single Period Trend Filter 策略绩效报告</h1>
            <p>生成时间: 2025-10-14 17:36:42</p>
            <p>回测期间: 2025-01-01 至 2025-10-13 (286 天)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">💰 总收益率</div>
                <div class="metric-value">+225.11%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📈 年化收益率</div>
                <div class="metric-value">+350.26%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">⚠️ 最大回撤</div>
                <div class="metric-value">-26.20%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🎯 夏普比率</div>
                <div class="metric-value">6.91</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📉 年化波动率</div>
                <div class="metric-value">50.28%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">🎯 胜率</div>
                <div class="metric-value">64.7%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">📊 盈亏比</div>
                <div class="metric-value">1.12</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">🔄 总交易次数</div>
                <div class="metric-value">2102</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>📊 资金概览</h3>
            <p><strong>初始资金:</strong> $100,000.00</p>
            <p><strong>最终净值:</strong> $325,109.07</p>
            <p><strong>净盈亏:</strong> $225,109.07</p>
        </div>
        
        <div class="summary-box">
            <h3>📈 交易统计</h3>
            <p><strong>总交易次数:</strong> 2102 次</p>
            <p><strong>盈利交易:</strong> 1360 次</p>
            <p><strong>亏损交易:</strong> 741 次</p>
            <p><strong>胜率:</strong> 64.7%</p>
            <p><strong>盈亏比:</strong> 1.12</p>
        </div>
        
        <div class="summary-box">
            <h3>⚙️ 策略配置</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>📊 单周期SAR策略参数</h4>
                    <p><strong>时间周期:</strong> 15m</p>
                    <p><strong>指标周期:</strong> 14</p>
                </div>
                <div>
                    <h4>🎯 SAR参数</h4>
                    <p><strong>起始值:</strong> 0.005</p>
                    <p><strong>递增值:</strong> 0.005</p>
                    <p><strong>最大值:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>💰 止盈止损配置</h4>
                <p><strong>固定止盈:</strong> 0.8%</p>
                <p><strong>最大亏损:</strong> 3%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>📈 绩效图表</h2>
            
            <div class="chart-title">💰 净值曲线</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">📊 累计收益率</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">📉 回撤分析</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>📋 每日净值明细</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>日期</th>
                <th>价格</th>
                <th>持仓</th>
                <th>持仓价值</th>
                <th>现金余额</th>
                <th>总净值</th>
                <th>日收益率</th>
                <th>累计收益率</th>
                <th>回撤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$4,584.07</td>
                <td>short</td>
                <td>$340,013.31</td>
                <td>$68.11</td>
                <td>$340,081.42</td>
                <td>+0.73%</td>
                <td>+240.08%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$4,498.90</td>
                <td>short</td>
                <td>$339,770.87</td>
                <td>$67.84</td>
                <td>$339,838.71</td>
                <td>-0.07%</td>
                <td>+239.84%</td>
                <td>-0.07%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$4,465.00</td>
                <td>short</td>
                <td>$341,585.90</td>
                <td>$68.00</td>
                <td>$341,653.89</td>
                <td>+0.53%</td>
                <td>+241.65%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$4,487.50</td>
                <td>short</td>
                <td>$325,948.66</td>
                <td>$65.21</td>
                <td>$326,013.87</td>
                <td>-4.58%</td>
                <td>+226.01%</td>
                <td>-4.58%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$4,597.09</td>
                <td>long</td>
                <td>$322,707.44</td>
                <td>$64.51</td>
                <td>$322,771.95</td>
                <td>-0.99%</td>
                <td>+222.77%</td>
                <td>-5.53%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$4,472.72</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$324,161.63</td>
                <td>$324,161.63</td>
                <td>+0.43%</td>
                <td>+224.16%</td>
                <td>-5.12%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$4,495.71</td>
                <td>long</td>
                <td>$326,655.59</td>
                <td>$64.98</td>
                <td>$326,720.57</td>
                <td>+0.79%</td>
                <td>+226.72%</td>
                <td>-4.37%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$4,480.22</td>
                <td>long</td>
                <td>$327,233.92</td>
                <td>$65.42</td>
                <td>$327,299.34</td>
                <td>+0.18%</td>
                <td>+227.30%</td>
                <td>-4.20%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$4,165.79</td>
                <td>long</td>
                <td>$334,284.65</td>
                <td>$67.43</td>
                <td>$334,352.08</td>
                <td>+2.15%</td>
                <td>+234.35%</td>
                <td>-2.14%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$4,179.05</td>
                <td>long</td>
                <td>$320,516.84</td>
                <td>$64.45</td>
                <td>$320,581.29</td>
                <td>-4.12%</td>
                <td>+220.58%</td>
                <td>-6.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$4,163.52</td>
                <td>long</td>
                <td>$319,218.74</td>
                <td>$64.28</td>
                <td>$319,283.03</td>
                <td>-0.40%</td>
                <td>+219.28%</td>
                <td>-6.55%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$4,000.50</td>
                <td>short</td>
                <td>$328,477.05</td>
                <td>$65.17</td>
                <td>$328,542.23</td>
                <td>+2.90%</td>
                <td>+228.54%</td>
                <td>-3.84%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$3,943.81</td>
                <td>long</td>
                <td>$329,377.15</td>
                <td>$65.80</td>
                <td>$329,442.95</td>
                <td>+0.27%</td>
                <td>+229.44%</td>
                <td>-3.57%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$4,016.42</td>
                <td>long</td>
                <td>$338,667.75</td>
                <td>$67.86</td>
                <td>$338,735.60</td>
                <td>+2.82%</td>
                <td>+238.74%</td>
                <td>-0.85%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$4,019.18</td>
                <td>long</td>
                <td>$333,817.42</td>
                <td>$66.78</td>
                <td>$333,884.19</td>
                <td>-1.43%</td>
                <td>+233.88%</td>
                <td>-2.27%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$4,163.28</td>
                <td>long</td>
                <td>$331,971.62</td>
                <td>$66.78</td>
                <td>$332,038.40</td>
                <td>-0.55%</td>
                <td>+232.04%</td>
                <td>-2.81%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$4,117.88</td>
                <td>short</td>
                <td>$337,518.74</td>
                <td>$67.49</td>
                <td>$337,586.23</td>
                <td>+1.67%</td>
                <td>+237.59%</td>
                <td>-1.19%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$4,324.55</td>
                <td>long</td>
                <td>$332,738.66</td>
                <td>$66.52</td>
                <td>$332,805.18</td>
                <td>-1.42%</td>
                <td>+232.81%</td>
                <td>-2.59%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$4,435.38</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$333,693.55</td>
                <td>$333,693.55</td>
                <td>+0.27%</td>
                <td>+233.69%</td>
                <td>-2.33%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$4,533.18</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$335,088.73</td>
                <td>$335,088.73</td>
                <td>+0.42%</td>
                <td>+235.09%</td>
                <td>-1.92%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$4,453.67</td>
                <td>short</td>
                <td>$328,349.05</td>
                <td>$65.93</td>
                <td>$328,414.98</td>
                <td>-1.99%</td>
                <td>+228.41%</td>
                <td>-3.87%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$4,531.01</td>
                <td>short</td>
                <td>$328,492.33</td>
                <td>$66.00</td>
                <td>$328,558.33</td>
                <td>+0.04%</td>
                <td>+228.56%</td>
                <td>-3.83%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$4,671.15</td>
                <td>long</td>
                <td>$344,673.41</td>
                <td>$68.91</td>
                <td>$344,742.33</td>
                <td>+4.93%</td>
                <td>+244.74%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$4,510.48</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$347,386.40</td>
                <td>$347,386.40</td>
                <td>+0.77%</td>
                <td>+247.39%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$4,445.05</td>
                <td>short</td>
                <td>$335,639.06</td>
                <td>$67.35</td>
                <td>$335,706.40</td>
                <td>-3.36%</td>
                <td>+235.71%</td>
                <td>-3.36%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$4,312.36</td>
                <td>short</td>
                <td>$321,519.64</td>
                <td>$64.34</td>
                <td>$321,583.99</td>
                <td>-4.21%</td>
                <td>+221.58%</td>
                <td>-7.43%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$4,101.01</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$318,281.84</td>
                <td>$318,281.84</td>
                <td>-1.03%</td>
                <td>+218.28%</td>
                <td>-8.38%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$3,822.61</td>
                <td>long</td>
                <td>$310,055.72</td>
                <td>$62.13</td>
                <td>$310,117.85</td>
                <td>-2.57%</td>
                <td>+210.12%</td>
                <td>-10.73%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$4,031.83</td>
                <td>空仓</td>
                <td>$0.00</td>
                <td>$316,091.39</td>
                <td>$316,091.39</td>
                <td>+1.93%</td>
                <td>+216.09%</td>
                <td>-9.01%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$4,147.25</td>
                <td>short</td>
                <td>$325,044.45</td>
                <td>$64.62</td>
                <td>$325,109.07</td>
                <td>+2.85%</td>
                <td>+225.11%</td>
                <td>-6.41%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* 仅显示最近30天数据，完整数据共286天</p>
        </div>
        
        <div class="footer">
            <p>🤖 由 SAR Single Period Trend Filter 策略自动生成</p>
        </div>
    </div>

    <script>
        // 图表数据
        const chartData = {"dates": ["2025-01-01", "2025-01-02", "2025-01-03", "2025-01-04", "2025-01-05", "2025-01-06", "2025-01-07", "2025-01-08", "2025-01-09", "2025-01-10", "2025-01-11", "2025-01-12", "2025-01-13", "2025-01-14", "2025-01-15", "2025-01-16", "2025-01-17", "2025-01-18", "2025-01-19", "2025-01-20", "2025-01-21", "2025-01-22", "2025-01-23", "2025-01-24", "2025-01-25", "2025-01-26", "2025-01-27", "2025-01-28", "2025-01-29", "2025-01-30", "2025-01-31", "2025-02-01", "2025-02-02", "2025-02-03", "2025-02-04", "2025-02-05", "2025-02-06", "2025-02-07", "2025-02-08", "2025-02-09", "2025-02-10", "2025-02-11", "2025-02-12", "2025-02-13", "2025-02-14", "2025-02-15", "2025-02-16", "2025-02-17", "2025-02-18", "2025-02-19", "2025-02-20", "2025-02-21", "2025-02-22", "2025-02-23", "2025-02-24", "2025-02-25", "2025-02-26", "2025-02-27", "2025-02-28", "2025-03-01", "2025-03-02", "2025-03-03", "2025-03-04", "2025-03-05", "2025-03-06", "2025-03-07", "2025-03-08", "2025-03-09", "2025-03-10", "2025-03-11", "2025-03-12", "2025-03-13", "2025-03-14", "2025-03-15", "2025-03-16", "2025-03-17", "2025-03-18", "2025-03-19", "2025-03-20", "2025-03-21", "2025-03-22", "2025-03-23", "2025-03-24", "2025-03-25", "2025-03-26", "2025-03-27", "2025-03-28", "2025-03-29", "2025-03-30", "2025-03-31", "2025-04-01", "2025-04-02", "2025-04-03", "2025-04-04", "2025-04-05", "2025-04-06", "2025-04-07", "2025-04-08", "2025-04-09", "2025-04-10", "2025-04-11", "2025-04-12", "2025-04-13", "2025-04-14", "2025-04-15", "2025-04-16", "2025-04-17", "2025-04-18", "2025-04-19", "2025-04-20", "2025-04-21", "2025-04-22", "2025-04-23", "2025-04-24", "2025-04-25", "2025-04-26", "2025-04-27", "2025-04-28", "2025-04-29", "2025-04-30", "2025-05-01", "2025-05-02", "2025-05-03", "2025-05-04", "2025-05-05", "2025-05-06", "2025-05-07", "2025-05-08", "2025-05-09", "2025-05-10", "2025-05-11", "2025-05-12", "2025-05-13", "2025-05-14", "2025-05-15", "2025-05-16", "2025-05-17", "2025-05-18", "2025-05-19", "2025-05-20", "2025-05-21", "2025-05-22", "2025-05-23", "2025-05-24", "2025-05-25", "2025-05-26", "2025-05-27", "2025-05-28", "2025-05-29", "2025-05-30", "2025-05-31", "2025-06-01", "2025-06-02", "2025-06-03", "2025-06-04", "2025-06-05", "2025-06-06", "2025-06-07", "2025-06-08", "2025-06-09", "2025-06-10", "2025-06-11", "2025-06-12", "2025-06-13", "2025-06-14", "2025-06-15", "2025-06-16", "2025-06-17", "2025-06-18", "2025-06-19", "2025-06-20", "2025-06-21", "2025-06-22", "2025-06-23", "2025-06-24", "2025-06-25", "2025-06-26", "2025-06-27", "2025-06-28", "2025-06-29", "2025-06-30", "2025-07-01", "2025-07-02", "2025-07-03", "2025-07-04", "2025-07-05", "2025-07-06", "2025-07-07", "2025-07-08", "2025-07-09", "2025-07-10", "2025-07-11", "2025-07-12", "2025-07-13", "2025-07-14", "2025-07-15", "2025-07-16", "2025-07-17", "2025-07-18", "2025-07-19", "2025-07-20", "2025-07-21", "2025-07-22", "2025-07-23", "2025-07-24", "2025-07-25", "2025-07-26", "2025-07-27", "2025-07-28", "2025-07-29", "2025-07-30", "2025-07-31", "2025-08-01", "2025-08-02", "2025-08-03", "2025-08-04", "2025-08-05", "2025-08-06", "2025-08-07", "2025-08-08", "2025-08-09", "2025-08-10", "2025-08-11", "2025-08-12", "2025-08-13", "2025-08-14", "2025-08-15", "2025-08-16", "2025-08-17", "2025-08-18", "2025-08-19", "2025-08-20", "2025-08-21", "2025-08-22", "2025-08-23", "2025-08-24", "2025-08-25", "2025-08-26", "2025-08-27", "2025-08-28", "2025-08-29", "2025-08-30", "2025-08-31", "2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [100153.4, 101730.27, 102552.31, 101476.7, 102773.57, 102286.22, 102322.62, 103219.31, 104508.86, 102134.2, 98476.99, 96785.09, 98093.71, 102477.03, 100946.71, 101632.42, 98335.77, 98937.18, 92402.79, 87114.95, 88196.68, 84443.05, 88366.26, 88334.44, 91302.74, 91303.0, 93083.44, 89440.2, 93535.03, 95666.89, 94017.82, 94977.26, 96618.73, 100302.36, 103972.77, 104760.93, 109564.0, 109042.44, 107188.76, 105464.38, 106293.56, 104431.01, 110923.83, 110588.54, 112614.54, 114296.43, 114150.51, 121569.46, 114865.59, 118113.64, 118516.54, 115232.3, 118881.88, 115627.44, 117711.56, 116091.45, 121650.48, 122252.17, 138654.02, 139435.76, 132977.14, 138886.88, 141181.29, 142492.43, 149546.41, 150120.65, 155861.37, 163923.66, 178448.35, 180624.4, 174208.32, 162951.5, 167328.5, 165969.68, 168868.78, 162948.87, 164958.28, 165122.7, 163313.36, 164872.83, 163598.79, 162093.19, 160701.69, 158711.03, 154579.93, 154872.43, 156910.96, 154612.4, 153421.4, 150197.0, 145191.82, 145114.45, 146395.79, 133297.24, 134994.7, 139011.83, 155251.25, 158974.39, 168310.81, 177504.81, 183900.72, 171960.17, 173820.76, 163621.17, 162011.6, 170364.42, 169785.25, 163944.9, 161140.27, 164368.76, 165386.95, 173471.58, 180028.02, 180082.34, 179936.99, 174600.96, 170109.99, 169696.47, 170846.75, 170835.2, 175048.98, 178662.99, 179559.47, 172335.32, 168417.59, 169111.38, 174114.71, 193216.15, 216404.82, 211953.97, 233924.11, 233138.83, 228023.37, 238796.24, 226580.42, 220132.52, 225062.19, 230493.82, 206826.65, 211912.92, 214923.87, 213669.66, 209992.75, 198624.41, 197664.57, 206068.23, 209506.02, 210978.47, 209389.82, 200961.99, 206850.32, 207532.74, 198338.84, 195884.76, 192418.52, 187340.84, 203049.02, 203555.11, 205677.53, 207191.97, 199038.41, 205740.99, 200912.22, 196830.52, 191732.22, 195429.75, 194887.56, 198775.64, 199693.49, 195190.66, 190366.93, 195167.44, 212384.08, 211551.25, 210073.13, 211847.37, 215021.01, 209829.37, 206755.8, 204457.2, 205709.51, 213816.7, 215132.49, 212131.4, 218806.86, 215875.79, 215628.87, 215957.11, 219318.15, 219747.5, 223400.02, 218896.42, 218015.39, 219853.41, 223594.14, 220530.79, 222341.01, 224091.21, 222052.97, 222926.85, 232311.27, 236939.3, 240606.91, 237727.32, 232832.94, 240223.47, 235606.79, 236475.09, 244990.58, 245255.44, 250230.75, 248767.71, 256921.65, 260980.19, 273029.02, 274535.42, 278652.57, 282768.6, 282840.78, 274989.74, 281143.3, 290909.78, 287662.13, 282616.12, 288476.43, 282802.94, 299410.44, 290407.05, 295083.19, 292621.47, 297276.08, 312246.43, 316395.54, 309272.22, 312739.81, 305680.45, 316793.43, 326395.59, 321410.47, 323596.02, 316004.67, 309266.25, 306876.79, 306898.29, 310870.43, 313132.52, 317837.74, 317795.59, 311596.79, 315528.31, 317889.88, 311972.45, 313877.05, 321133.89, 316934.69, 337627.22, 340081.42, 339838.71, 341653.89, 326013.87, 322771.95, 324161.63, 326720.57, 327299.34, 334352.08, 320581.29, 319283.03, 328542.23, 329442.95, 338735.6, 333884.19, 332038.4, 337586.23, 332805.18, 333693.55, 335088.73, 328414.98, 328558.33, 344742.33, 347386.4, 335706.4, 321583.99, 318281.84, 310117.85, 316091.39, 325109.07], "cumulative_returns": [0.15, 1.73, 2.55, 1.48, 2.77, 2.29, 2.32, 3.22, 4.51, 2.13, -1.52, -3.21, -1.91, 2.48, 0.95, 1.63, -1.66, -1.06, -7.6, -12.89, -11.8, -15.56, -11.63, -11.67, -8.7, -8.7, -6.92, -10.56, -6.46, -4.33, -5.98, -5.02, -3.38, 0.3, 3.97, 4.76, 9.56, 9.04, 7.19, 5.46, 6.29, 4.43, 10.92, 10.59, 12.61, 14.3, 14.15, 21.57, 14.87, 18.11, 18.52, 15.23, 18.88, 15.63, 17.71, 16.09, 21.65, 22.25, 38.65, 39.44, 32.98, 38.89, 41.18, 42.49, 49.55, 50.12, 55.86, 63.92, 78.45, 80.62, 74.21, 62.95, 67.33, 65.97, 68.87, 62.95, 64.96, 65.12, 63.31, 64.87, 63.6, 62.09, 60.7, 58.71, 54.58, 54.87, 56.91, 54.61, 53.42, 50.2, 45.19, 45.11, 46.4, 33.3, 34.99, 39.01, 55.25, 58.97, 68.31, 77.5, 83.9, 71.96, 73.82, 63.62, 62.01, 70.36, 69.79, 63.94, 61.14, 64.37, 65.39, 73.47, 80.03, 80.08, 79.94, 74.6, 70.11, 69.7, 70.85, 70.84, 75.05, 78.66, 79.56, 72.34, 68.42, 69.11, 74.11, 93.22, 116.4, 111.95, 133.92, 133.14, 128.02, 138.8, 126.58, 120.13, 125.06, 130.49, 106.83, 111.91, 114.92, 113.67, 109.99, 98.62, 97.66, 106.07, 109.51, 110.98, 109.39, 100.96, 106.85, 107.53, 98.34, 95.88, 92.42, 87.34, 103.05, 103.56, 105.68, 107.19, 99.04, 105.74, 100.91, 96.83, 91.73, 95.43, 94.89, 98.78, 99.69, 95.19, 90.37, 95.17, 112.38, 111.55, 110.07, 111.85, 115.02, 109.83, 106.76, 104.46, 105.71, 113.82, 115.13, 112.13, 118.81, 115.88, 115.63, 115.96, 119.32, 119.75, 123.4, 118.9, 118.02, 119.85, 123.59, 120.53, 122.34, 124.09, 122.05, 122.93, 132.31, 136.94, 140.61, 137.73, 132.83, 140.22, 135.61, 136.48, 144.99, 145.26, 150.23, 148.77, 156.92, 160.98, 173.03, 174.54, 178.65, 182.77, 182.84, 174.99, 181.14, 190.91, 187.66, 182.62, 188.48, 182.8, 199.41, 190.41, 195.08, 192.62, 197.28, 212.25, 216.4, 209.27, 212.74, 205.68, 216.79, 226.4, 221.41, 223.6, 216.0, 209.27, 206.88, 206.9, 210.87, 213.13, 217.84, 217.8, 211.6, 215.53, 217.89, 211.97, 213.88, 221.13, 216.93, 237.63, 240.08, 239.84, 241.65, 226.01, 222.77, 224.16, 226.72, 227.3, 234.35, 220.58, 219.28, 228.54, 229.44, 238.74, 233.88, 232.04, 237.59, 232.81, 233.69, 235.09, 228.41, 228.56, 244.74, 247.39, 235.71, 221.58, 218.28, 210.12, 216.09, 225.11], "drawdowns": [0.0, 0.0, 0.0, -1.05, 0.0, -0.47, -0.44, 0.0, 0.0, -2.27, -5.77, -7.39, -6.14, -1.94, -3.41, -2.75, -5.91, -5.33, -11.58, -16.64, -15.61, -19.2, -15.45, -15.48, -12.64, -12.64, -10.93, -14.42, -10.5, -8.46, -10.04, -9.12, -7.55, -4.03, -0.51, 0.0, 0.0, -0.48, -2.17, -3.74, -2.98, -4.68, 0.0, -0.3, 0.0, 0.0, -0.13, 0.0, -5.51, -2.84, -2.51, -5.21, -2.21, -4.89, -3.17, -4.51, 0.0, 0.0, 0.0, 0.0, -4.63, -0.39, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -3.55, -9.78, -7.36, -8.11, -6.51, -9.79, -8.67, -8.58, -9.58, -8.72, -9.43, -10.26, -11.03, -12.13, -14.42, -14.26, -13.13, -14.4, -15.06, -16.85, -19.62, -19.66, -18.95, -26.2, -25.26, -23.04, -14.05, -11.99, -6.82, -1.73, 0.0, -6.49, -5.48, -11.03, -11.9, -7.36, -7.68, -10.85, -12.38, -10.62, -10.07, -5.67, -2.11, -2.08, -2.16, -5.06, -7.5, -7.72, -7.1, -7.1, -4.81, -2.85, -2.36, -6.29, -8.42, -8.04, -5.32, 0.0, 0.0, -2.06, 0.0, -0.34, -2.52, 0.0, -5.12, -7.82, -5.75, -3.48, -13.39, -11.26, -10.0, -10.52, -12.06, -16.82, -17.22, -13.71, -12.27, -11.65, -12.31, -15.84, -13.38, -13.09, -16.94, -17.97, -19.42, -21.55, -14.97, -14.76, -13.87, -13.23, -16.65, -13.84, -15.86, -17.57, -19.71, -18.16, -18.39, -16.76, -16.37, -18.26, -20.28, -18.27, -11.06, -11.41, -12.03, -11.29, -9.96, -12.13, -13.42, -14.38, -13.86, -10.46, -9.91, -11.17, -8.37, -9.6, -9.7, -9.56, -8.16, -7.98, -6.45, -8.33, -8.7, -7.93, -6.37, -7.65, -6.89, -6.16, -7.01, -6.65, -2.72, -0.78, 0.0, -1.2, -3.23, -0.16, -2.08, -1.72, 0.0, 0.0, 0.0, -0.58, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, -2.78, -0.6, 0.0, -1.12, -2.85, -0.84, -2.79, 0.0, -3.01, -1.45, -2.27, -0.71, 0.0, 0.0, -2.25, -1.16, -3.39, 0.0, 0.0, -1.53, -0.86, -3.18, -5.25, -5.98, -5.97, -4.76, -4.06, -2.62, -2.63, -4.53, -3.33, -2.61, -4.42, -3.84, -1.61, -2.9, 0.0, 0.0, -0.07, 0.0, -4.58, -5.53, -5.12, -4.37, -4.2, -2.14, -6.17, -6.55, -3.84, -3.57, -0.85, -2.27, -2.81, -1.19, -2.59, -2.33, -1.92, -3.87, -3.83, 0.0, 0.0, -3.36, -7.43, -8.38, -10.73, -9.01, -6.41], "initial_capital": 100000, "max_drawdown_point": {"date": "2025-04-04", "value": -26.2}};
        
        // 通用图表配置
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return '日期: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: '日期'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. 净值曲线图
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '净值曲线',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '初始资金线',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '净值 ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '净值: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return '初始资金: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. 累计收益率图
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '累计收益率',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: '零基准线',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '收益率 (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return '累计收益率: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return '零基准线: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. 回撤分析图
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: '回撤曲线',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: '回撤 (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return '回撤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // 标记最大回撤点
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // 添加最大回撤点标记
                drawdownChart.data.datasets.push({
                    label: '最大回撤点',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        