
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BTC - SAR Single Period Trend Filter ç­–ç•¥ç»©æ•ˆæŠ¥å‘Š</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <style>
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
        }
        .header {
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .header h1 {
            color: #007bff;
            margin: 0;
            font-size: 2.5rem;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1rem;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        .metric-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .metric-card.positive {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
        }
        .metric-card.negative {
            background: linear-gradient(135deg, #fc466b 0%, #3f5efb 100%);
        }
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }
        .chart-container {
            margin: 40px 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
        }
        .chart-wrapper {
            position: relative;
            height: 400px;
            margin: 20px 0;
        }
        .chart-title {
            text-align: center;
            color: #007bff;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: bold;
        }
        .section {
            margin: 40px 0;
        }
        .section h2 {
            color: #007bff;
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .nav-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
        }
        .nav-table th, .nav-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: center;
        }
        .nav-table th {
            background-color: #007bff;
            color: white;
            font-weight: bold;
        }
        .nav-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .nav-table tr:hover {
            background-color: #f5f5f5;
        }
        .summary-box {
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ˆ BTC - SAR Single Period Trend Filter ç­–ç•¥ç»©æ•ˆæŠ¥å‘Š</h1>
            <p>ç”Ÿæˆæ—¶é—´: 2025-10-13 17:44:43</p>
            <p>å›æµ‹æœŸé—´: 2025-09-01 è‡³ 2025-10-13 (43 å¤©)</p>
        </div>
        
        <div class="metrics-grid">
            <div class="metric-card positive">
                <div class="metric-label">ğŸ’° æ€»æ”¶ç›Šç‡</div>
                <div class="metric-value">+8.05%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">ğŸ“ˆ å¹´åŒ–æ”¶ç›Šç‡</div>
                <div class="metric-value">+92.95%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">âš ï¸ æœ€å¤§å›æ’¤</div>
                <div class="metric-value">-5.15%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">ğŸ¯ å¤æ™®æ¯”ç‡</div>
                <div class="metric-value">4.02</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">ğŸ“‰ å¹´åŒ–æ³¢åŠ¨ç‡</div>
                <div class="metric-value">22.39%</div>
            </div>
            <div class="metric-card positive">
                <div class="metric-label">ğŸ¯ èƒœç‡</div>
                <div class="metric-value">52.3%</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">ğŸ“Š ç›ˆäºæ¯”</div>
                <div class="metric-value">1.18</div>
            </div>
            <div class="metric-card">
                <div class="metric-label">ğŸ”„ æ€»äº¤æ˜“æ¬¡æ•°</div>
                <div class="metric-value">216</div>
            </div>
        </div>
        
        <div class="summary-box">
            <h3>ğŸ“Š èµ„é‡‘æ¦‚è§ˆ</h3>
            <p><strong>åˆå§‹èµ„é‡‘:</strong> $500.00</p>
            <p><strong>æœ€ç»ˆå‡€å€¼:</strong> $540.25</p>
            <p><strong>å‡€ç›ˆäº:</strong> $40.25</p>
        </div>
        
        <div class="summary-box">
            <h3>ğŸ“ˆ äº¤æ˜“ç»Ÿè®¡</h3>
            <p><strong>æ€»äº¤æ˜“æ¬¡æ•°:</strong> 216 æ¬¡</p>
            <p><strong>ç›ˆåˆ©äº¤æ˜“:</strong> 113 æ¬¡</p>
            <p><strong>äºæŸäº¤æ˜“:</strong> 103 æ¬¡</p>
            <p><strong>èƒœç‡:</strong> 52.3%</p>
            <p><strong>ç›ˆäºæ¯”:</strong> 1.18</p>
        </div>
        
        <div class="summary-box">
            <h3>âš™ï¸ ç­–ç•¥é…ç½®</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                <div>
                    <h4>ğŸ“Š å•å‘¨æœŸSARç­–ç•¥å‚æ•°</h4>
                    <p><strong>æ—¶é—´å‘¨æœŸ:</strong> 15m</p>
                    <p><strong>æŒ‡æ ‡å‘¨æœŸ:</strong> 14</p>
                </div>
                <div>
                    <h4>ğŸ¯ SARå‚æ•°</h4>
                    <p><strong>èµ·å§‹å€¼:</strong> 0.005</p>
                    <p><strong>é€’å¢å€¼:</strong> 0.005</p>
                    <p><strong>æœ€å¤§å€¼:</strong> 0.04</p>
                </div>
            </div>
            <div style="margin-top: 15px;">
                <h4>ğŸ’° æ­¢ç›ˆæ­¢æŸé…ç½®</h4>
                <p><strong>å›ºå®šæ­¢ç›ˆ:</strong> 0.5%</p>
                <p><strong>æœ€å¤§äºæŸ:</strong> 0%</p>
            </div>
        </div>
        
        <div class="chart-container">
            <h2>ğŸ“ˆ ç»©æ•ˆå›¾è¡¨</h2>
            
            <div class="chart-title">ğŸ’° å‡€å€¼æ›²çº¿</div>
            <div class="chart-wrapper">
                <canvas id="navChart"></canvas>
            </div>
            
            <div class="chart-title">ğŸ“Š ç´¯è®¡æ”¶ç›Šç‡</div>
            <div class="chart-wrapper">
                <canvas id="returnChart"></canvas>
            </div>
            
            <div class="chart-title">ğŸ“‰ å›æ’¤åˆ†æ</div>
            <div class="chart-wrapper">
                <canvas id="drawdownChart"></canvas>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ“‹ æ¯æ—¥å‡€å€¼æ˜ç»†</h2>
            <table class="nav-table">
        <thead>
            <tr>
                <th>æ—¥æœŸ</th>
                <th>ä»·æ ¼</th>
                <th>æŒä»“</th>
                <th>æŒä»“ä»·å€¼</th>
                <th>ç°é‡‘ä½™é¢</th>
                <th>æ€»å‡€å€¼</th>
                <th>æ—¥æ”¶ç›Šç‡</th>
                <th>ç´¯è®¡æ”¶ç›Šç‡</th>
                <th>å›æ’¤</th>
            </tr>
        </thead>
        <tbody>
        
            <tr>
                <td>2025-09-14</td>
                <td>$115,208.50</td>
                <td>short</td>
                <td>$506.92</td>
                <td>$0.10</td>
                <td>$507.02</td>
                <td>-2.66%</td>
                <td>+1.40%</td>
                <td>-3.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-15</td>
                <td>$114,782.60</td>
                <td>short</td>
                <td>$516.52</td>
                <td>$0.10</td>
                <td>$516.62</td>
                <td>+1.89%</td>
                <td>+3.32%</td>
                <td>-1.16%</td>
            </tr>
            
            <tr>
                <td>2025-09-16</td>
                <td>$115,900.10</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$511.05</td>
                <td>$511.05</td>
                <td>-1.08%</td>
                <td>+2.21%</td>
                <td>-2.22%</td>
            </tr>
            
            <tr>
                <td>2025-09-17</td>
                <td>$115,814.70</td>
                <td>short</td>
                <td>$509.58</td>
                <td>$0.10</td>
                <td>$509.69</td>
                <td>-0.27%</td>
                <td>+1.94%</td>
                <td>-2.49%</td>
            </tr>
            
            <tr>
                <td>2025-09-18</td>
                <td>$117,542.10</td>
                <td>long</td>
                <td>$505.43</td>
                <td>$0.10</td>
                <td>$505.53</td>
                <td>-0.82%</td>
                <td>+1.11%</td>
                <td>-3.28%</td>
            </tr>
            
            <tr>
                <td>2025-09-19</td>
                <td>$115,815.80</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$512.20</td>
                <td>$512.20</td>
                <td>+1.32%</td>
                <td>+2.44%</td>
                <td>-2.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-20</td>
                <td>$115,932.00</td>
                <td>long</td>
                <td>$510.10</td>
                <td>$0.10</td>
                <td>$510.20</td>
                <td>-0.39%</td>
                <td>+2.04%</td>
                <td>-2.39%</td>
            </tr>
            
            <tr>
                <td>2025-09-21</td>
                <td>$115,470.70</td>
                <td>short</td>
                <td>$519.62</td>
                <td>$0.10</td>
                <td>$519.72</td>
                <td>+1.87%</td>
                <td>+3.94%</td>
                <td>-0.57%</td>
            </tr>
            
            <tr>
                <td>2025-09-22</td>
                <td>$112,770.40</td>
                <td>long</td>
                <td>$518.74</td>
                <td>$0.10</td>
                <td>$518.85</td>
                <td>-0.17%</td>
                <td>+3.77%</td>
                <td>-0.73%</td>
            </tr>
            
            <tr>
                <td>2025-09-23</td>
                <td>$112,823.10</td>
                <td>short</td>
                <td>$507.70</td>
                <td>$0.10</td>
                <td>$507.81</td>
                <td>-2.13%</td>
                <td>+1.56%</td>
                <td>-2.85%</td>
            </tr>
            
            <tr>
                <td>2025-09-24</td>
                <td>$113,290.70</td>
                <td>long</td>
                <td>$509.81</td>
                <td>$0.10</td>
                <td>$509.91</td>
                <td>+0.41%</td>
                <td>+1.98%</td>
                <td>-2.44%</td>
            </tr>
            
            <tr>
                <td>2025-09-25</td>
                <td>$111,533.00</td>
                <td>short</td>
                <td>$524.21</td>
                <td>$0.10</td>
                <td>$524.31</td>
                <td>+2.82%</td>
                <td>+4.86%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-09-26</td>
                <td>$108,979.60</td>
                <td>long</td>
                <td>$512.20</td>
                <td>$0.10</td>
                <td>$512.31</td>
                <td>-2.29%</td>
                <td>+2.46%</td>
                <td>-2.29%</td>
            </tr>
            
            <tr>
                <td>2025-09-27</td>
                <td>$109,324.60</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$512.94</td>
                <td>$512.94</td>
                <td>+0.12%</td>
                <td>+2.59%</td>
                <td>-2.17%</td>
            </tr>
            
            <tr>
                <td>2025-09-28</td>
                <td>$109,973.60</td>
                <td>long</td>
                <td>$516.88</td>
                <td>$0.10</td>
                <td>$516.98</td>
                <td>+0.79%</td>
                <td>+3.40%</td>
                <td>-1.40%</td>
            </tr>
            
            <tr>
                <td>2025-09-29</td>
                <td>$113,768.90</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$518.57</td>
                <td>$518.57</td>
                <td>+0.31%</td>
                <td>+3.71%</td>
                <td>-1.09%</td>
            </tr>
            
            <tr>
                <td>2025-09-30</td>
                <td>$113,061.80</td>
                <td>long</td>
                <td>$520.08</td>
                <td>$0.10</td>
                <td>$520.19</td>
                <td>+0.31%</td>
                <td>+4.04%</td>
                <td>-0.79%</td>
            </tr>
            
            <tr>
                <td>2025-10-01</td>
                <td>$117,363.80</td>
                <td>long</td>
                <td>$528.14</td>
                <td>$0.11</td>
                <td>$528.24</td>
                <td>+1.55%</td>
                <td>+5.65%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-02</td>
                <td>$119,880.70</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$538.70</td>
                <td>$538.70</td>
                <td>+1.98%</td>
                <td>+7.74%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-03</td>
                <td>$122,215.00</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$545.84</td>
                <td>$545.84</td>
                <td>+1.32%</td>
                <td>+9.17%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-04</td>
                <td>$121,753.60</td>
                <td>short</td>
                <td>$535.72</td>
                <td>$0.11</td>
                <td>$535.82</td>
                <td>-1.84%</td>
                <td>+7.16%</td>
                <td>-1.84%</td>
            </tr>
            
            <tr>
                <td>2025-10-05</td>
                <td>$122,758.50</td>
                <td>short</td>
                <td>$540.14</td>
                <td>$0.11</td>
                <td>$540.25</td>
                <td>+0.83%</td>
                <td>+8.05%</td>
                <td>-1.03%</td>
            </tr>
            
            <tr>
                <td>2025-10-06</td>
                <td>$124,956.50</td>
                <td>long</td>
                <td>$537.31</td>
                <td>$0.11</td>
                <td>$537.42</td>
                <td>-0.52%</td>
                <td>+7.48%</td>
                <td>-1.54%</td>
            </tr>
            
            <tr>
                <td>2025-10-07</td>
                <td>$121,804.40</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$549.32</td>
                <td>$549.32</td>
                <td>+2.21%</td>
                <td>+9.86%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-08</td>
                <td>$122,135.90</td>
                <td>long</td>
                <td>$549.61</td>
                <td>$0.11</td>
                <td>$549.72</td>
                <td>+0.07%</td>
                <td>+9.94%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-09</td>
                <td>$121,082.00</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$557.35</td>
                <td>$557.35</td>
                <td>+1.39%</td>
                <td>+11.47%</td>
                <td>0.00%</td>
            </tr>
            
            <tr>
                <td>2025-10-10</td>
                <td>$118,970.90</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$556.34</td>
                <td>$556.34</td>
                <td>-0.18%</td>
                <td>+11.27%</td>
                <td>-0.18%</td>
            </tr>
            
            <tr>
                <td>2025-10-11</td>
                <td>$111,750.00</td>
                <td>long</td>
                <td>$547.57</td>
                <td>$0.11</td>
                <td>$547.69</td>
                <td>-1.56%</td>
                <td>+9.54%</td>
                <td>-1.73%</td>
            </tr>
            
            <tr>
                <td>2025-10-12</td>
                <td>$113,168.90</td>
                <td>ç©ºä»“</td>
                <td>$0.00</td>
                <td>$528.67</td>
                <td>$528.67</td>
                <td>-3.47%</td>
                <td>+5.73%</td>
                <td>-5.15%</td>
            </tr>
            
            <tr>
                <td>2025-10-13</td>
                <td>$114,924.70</td>
                <td>short</td>
                <td>$540.15</td>
                <td>$0.11</td>
                <td>$540.25</td>
                <td>+2.19%</td>
                <td>+8.05%</td>
                <td>-3.07%</td>
            </tr>
            </tbody></table><p style="text-align: center; color: #666; margin-top: 10px;">* ä»…æ˜¾ç¤ºæœ€è¿‘30å¤©æ•°æ®ï¼Œå®Œæ•´æ•°æ®å…±43å¤©</p>
        </div>
        
        <div class="footer">
            <p>ğŸ¤– ç”± SAR Single Period Trend Filter ç­–ç•¥è‡ªåŠ¨ç”Ÿæˆ</p>
        </div>
    </div>

    <script>
        // å›¾è¡¨æ•°æ®
        const chartData = {"dates": ["2025-09-01", "2025-09-02", "2025-09-03", "2025-09-04", "2025-09-05", "2025-09-06", "2025-09-07", "2025-09-08", "2025-09-09", "2025-09-10", "2025-09-11", "2025-09-12", "2025-09-13", "2025-09-14", "2025-09-15", "2025-09-16", "2025-09-17", "2025-09-18", "2025-09-19", "2025-09-20", "2025-09-21", "2025-09-22", "2025-09-23", "2025-09-24", "2025-09-25", "2025-09-26", "2025-09-27", "2025-09-28", "2025-09-29", "2025-09-30", "2025-10-01", "2025-10-02", "2025-10-03", "2025-10-04", "2025-10-05", "2025-10-06", "2025-10-07", "2025-10-08", "2025-10-09", "2025-10-10", "2025-10-11", "2025-10-12", "2025-10-13"], "nav_values": [500.31, 498.67, 504.88, 503.62, 509.2, 514.16, 512.07, 518.06, 520.31, 522.68, 513.66, 517.95, 520.9, 507.02, 516.62, 511.05, 509.69, 505.53, 512.2, 510.2, 519.72, 518.85, 507.81, 509.91, 524.31, 512.31, 512.94, 516.98, 518.57, 520.19, 528.24, 538.7, 545.84, 535.82, 540.25, 537.42, 549.32, 549.72, 557.35, 556.34, 547.69, 528.67, 540.25], "cumulative_returns": [0.06, -0.27, 0.98, 0.72, 1.84, 2.83, 2.41, 3.61, 4.06, 4.54, 2.73, 3.59, 4.18, 1.4, 3.32, 2.21, 1.94, 1.11, 2.44, 2.04, 3.94, 3.77, 1.56, 1.98, 4.86, 2.46, 2.59, 3.4, 3.71, 4.04, 5.65, 7.74, 9.17, 7.16, 8.05, 7.48, 9.86, 9.94, 11.47, 11.27, 9.54, 5.73, 8.05], "drawdowns": [0.0, -0.33, 0.0, -0.25, 0.0, 0.0, -0.41, 0.0, 0.0, 0.0, -1.73, -0.9, -0.34, -3.0, -1.16, -2.22, -2.49, -3.28, -2.0, -2.39, -0.57, -0.73, -2.85, -2.44, 0.0, -2.29, -2.17, -1.4, -1.09, -0.79, 0.0, 0.0, 0.0, -1.84, -1.03, -1.54, 0.0, 0.0, 0.0, -0.18, -1.73, -5.15, -3.07], "initial_capital": 500, "max_drawdown_point": {"date": "2025-10-12", "value": -5.15}};
        
        // é€šç”¨å›¾è¡¨é…ç½®
        const commonOptions = {
            responsive: true,
            maintainAspectRatio: false,
            interaction: {
                intersect: false,
                mode: 'index'
            },
            plugins: {
                tooltip: {
                    backgroundColor: 'rgba(0, 0, 0, 0.8)',
                    titleColor: 'white',
                    bodyColor: 'white',
                    borderColor: '#007bff',
                    borderWidth: 1,
                    cornerRadius: 5,
                    displayColors: false,
                    callbacks: {
                        title: function(context) {
                            return 'æ—¥æœŸ: ' + context[0].label;
                        }
                    }
                },
                legend: {
                    display: true,
                    position: 'top'
                }
            },
            scales: {
                x: {
                    type: 'category',
                    display: true,
                    title: {
                        display: true,
                        text: 'æ—¥æœŸ'
                    },
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                },
                y: {
                    display: true,
                    grid: {
                        display: true,
                        color: 'rgba(0,0,0,0.1)'
                    }
                }
            }
        };

        // 1. å‡€å€¼æ›²çº¿å›¾
        const navCtx = document.getElementById('navChart').getContext('2d');
        new Chart(navCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: 'å‡€å€¼æ›²çº¿',
                        data: chartData.nav_values,
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: 'åˆå§‹èµ„é‡‘çº¿',
                        data: Array(chartData.dates.length).fill(chartData.initial_capital),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: 'å‡€å€¼ ($)'
                        },
                        ticks: {
                            callback: function(value) {
                                return '$' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'å‡€å€¼: $' + context.parsed.y.toLocaleString();
                                } else {
                                    return 'åˆå§‹èµ„é‡‘: $' + context.parsed.y.toLocaleString();
                                }
                            }
                        }
                    }
                }
            }
        });

        // 2. ç´¯è®¡æ”¶ç›Šç‡å›¾
        const returnCtx = document.getElementById('returnChart').getContext('2d');
        new Chart(returnCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: 'ç´¯è®¡æ”¶ç›Šç‡',
                        data: chartData.cumulative_returns,
                        borderColor: '#28a745',
                        backgroundColor: 'rgba(40, 167, 69, 0.1)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    },
                    {
                        label: 'é›¶åŸºå‡†çº¿',
                        data: Array(chartData.dates.length).fill(0),
                        borderColor: '#6c757d',
                        backgroundColor: 'transparent',
                        borderWidth: 1,
                        borderDash: [5, 5],
                        fill: false,
                        pointRadius: 0,
                        pointHoverRadius: 0
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: 'æ”¶ç›Šç‡ (%)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                if (context.datasetIndex === 0) {
                                    return 'ç´¯è®¡æ”¶ç›Šç‡: ' + context.parsed.y.toFixed(2) + '%';
                                } else {
                                    return 'é›¶åŸºå‡†çº¿: 0%';
                                }
                            }
                        }
                    }
                }
            }
        });

        // 3. å›æ’¤åˆ†æå›¾
        const drawdownCtx = document.getElementById('drawdownChart').getContext('2d');
        const drawdownChart = new Chart(drawdownCtx, {
            type: 'line',
            data: {
                labels: chartData.dates,
                datasets: [
                    {
                        label: 'å›æ’¤æ›²çº¿',
                        data: chartData.drawdowns,
                        borderColor: '#dc3545',
                        backgroundColor: 'rgba(220, 53, 69, 0.2)',
                        borderWidth: 2,
                        fill: true,
                        tension: 0.1,
                        pointRadius: 1,
                        pointHoverRadius: 5
                    }
                ]
            },
            options: {
                ...commonOptions,
                scales: {
                    ...commonOptions.scales,
                    y: {
                        ...commonOptions.scales.y,
                        title: {
                            display: true,
                            text: 'å›æ’¤ (%)'
                        },
                        max: 0,
                        ticks: {
                            callback: function(value) {
                                return value.toFixed(1) + '%';
                            }
                        }
                    }
                },
                plugins: {
                    ...commonOptions.plugins,
                    tooltip: {
                        ...commonOptions.plugins.tooltip,
                        callbacks: {
                            ...commonOptions.plugins.tooltip.callbacks,
                            label: function(context) {
                                return 'å›æ’¤: ' + context.parsed.y.toFixed(2) + '%';
                            }
                        }
                    }
                }
            }
        });

        // æ ‡è®°æœ€å¤§å›æ’¤ç‚¹
        if (chartData.max_drawdown_point) {
            const maxDDIndex = chartData.dates.indexOf(chartData.max_drawdown_point.date);
            if (maxDDIndex !== -1) {
                // æ·»åŠ æœ€å¤§å›æ’¤ç‚¹æ ‡è®°
                drawdownChart.data.datasets.push({
                    label: 'æœ€å¤§å›æ’¤ç‚¹',
                    data: chartData.dates.map((date, index) => 
                        index === maxDDIndex ? chartData.max_drawdown_point.value : null
                    ),
                    borderColor: '#ff6b6b',
                    backgroundColor: '#ff6b6b',
                    borderWidth: 3,
                    pointRadius: 6,
                    pointHoverRadius: 8,
                    showLine: false,
                    fill: false
                });
                drawdownChart.update();
            }
        }
    </script>
</body>
</html>
        